[
    {
        "title": "Improving Your Git Workflows with Aliases",
        "publishedOn": "2023-03-11",
        "author": "Laurence Ininda",
        "summary": "There are plenty of times when I have found myself looking up git commands that I would like to execute in my day to day whether on my day job or side project work. As such, git provides the ability to configure aliases — short commands that represent longer commands that git executes.",
        "slug": "improve-your-git-workflows-with-aliases",
        "tags": ["git", "productivity"],
        "type": "dev",
        "image": "https://raw.githubusercontent.com/laudebugs/blog-posts/main/assets/improve-your-git-workflows-with-aliases (1).jpeg",
        "imageDescription": "",
        "imageCredit": "Photo by <a href=\"https://unsplash.com/@mikes1978?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText\">Michal Pech</a> on <a href=\"https://unsplash.com/photos/xS5bOLKCSLw?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText\">Unsplash</a>",
        "imageOriginalUrl": "https://unsplash.com/photos/xS5bOLKCSLw",
        "date": "2023-03-11T00:00:00.000Z",
        "content": "<p>There are plenty of times when I have found myself looking up git commands that I would like to execute in my day to day whether on my day job or side project work. As such, git provides the ability to configure aliases — short commands that represent longer commands that git executes.</p>\n<h2 id=\"configuring-git-aliases\">Configuring Git Aliases</h2>\n<p>A git alias can be set up by running the command <code>git config --global alias.&lt;alias-name&gt; &lt;command-to-execute&gt;</code>. Where <code>&lt;alias-name&gt;</code> represents the command that triggers the <code>&lt;command-to-execute&gt;</code>. A simple example would be setting up a git alias, <code>git ac</code> that will take a commit message, stages all files and commit them all in one go. Setting up this command would look like:</p>\n<pre><code class=\"language-bash\">git config --global alias.ac &quot;\\!git add -A &amp;&amp; git commit -S -m&quot;\n</code></pre>\n<p>This command then updates the global <code>.gitconfig</code> file, by adding an entry under <code>[alias]</code> called <code>ac</code> that enables this command to be executed in any git repository:</p>\n<pre><code class=\"language-bash\">[alias]\n    ac = !git add -A &amp;&amp; git commit -S -m\n</code></pre>\n<p>After editing some files in a git repository, running <code>git ac &quot;docs: update notes&quot;</code> stages all changed files in that repository and commits them using the commit message <code>&quot;docs: update notes&quot;</code>.</p>\n<h2 id=\"a-list-of-useful-git-aliases\">A list of Useful Git Aliases</h2>\n<p>Herein, therefore, is a list of git aliases that drive my daily work.</p>\n<p>I’ll group the commands into (a) Commands within a git repository and (b) commands within a <strong>bare</strong> git repository</p>\n<h3 id=\"within-a-normal-git-repository\">Within a normal git repository</h3>\n<Note>\nThese Commands can also be performed within a worktree in a bare git repository\n</Note>\n\n<ol>\n<li><p><code>ac</code> - Pass in a commit message to the git alias. The command stage all files (<code>git add -A</code>) and commits with the commit message passed in.</p>\n<pre><code class=\"language-bash\">ac = !git add -A &amp;&amp; git commit -S -m\n</code></pre>\n</li>\n<li><p><code>add-string</code> - Among all the changed files in a git repository, Stage only the files where the diff contains a certain substring. Fos instance, if one would want to stage only files that contain the substring <code>randomFilterFunction</code>, then, executing the command <code>git add-string &quot;randomFilterFunction&quot;</code> would only stage that files where the diff contains the substring <code>“randomFilterFunction”</code>.</p>\n<pre><code class=\"language-bash\">add-string =  &quot;!sh -c \\&quot;git diff -G &#39;$1&#39; --name-only | xargs git add\\&quot; -&quot;\n</code></pre>\n</li>\n<li><p><code>last-checked</code> - Within a git repository, find the last <code>n</code> checked out branches.</p>\n<pre><code class=\"language-bash\">last-checked = !git reflog | grep -i &#39;checkout: moving&#39; | head -n\n</code></pre>\n<p> This is useful when trying to find out the last few branches that were worked on, especially when switching between branches. For instance, running <code>git last-checked 5</code> would return output similar to:</p>\n<pre><code class=\"language-bash\">ae956a5 HEAD@{4}: checkout: moving from main to chore/update-new-env-gh\nae956a5 HEAD@{5}: checkout: moving from chore/update-node-ci to main\nae956a5 HEAD@{7}: checkout: moving from main to chore/update-node-ci\naafa50f HEAD@{9}: checkout: moving from docs/update to main\nfba6d0a HEAD@{11}: checkout: moving from fix/github-actions-permissions to docs/update\n</code></pre>\n</li>\n<li><p><code>parent</code> - For a given branch, find the branch from which the current branch was created from. <a href=\"https://stackoverflow.com/questions/3161204/how-to-find-the-nearest-parent-of-a-git-branch\">Source for this git alias command on StackOverflow.</a></p>\n<pre><code class=\"language-bash\">parent = &quot;!git show-branch | grep &#39;*&#39; | grep -v \\&quot;$(git rev-parse --abbrev-ref HEAD)\\&quot; | head -n1 | sed &#39;s/.*\\\\[\\\\(.*\\\\)\\\\].*/\\\\1/&#39; | sed &#39;s/[\\\\^~].*//&#39; #&quot;\n</code></pre>\n</li>\n<li><p><code>push-origin</code> - Sets up the upstream and pushes the local branch to the remote origin. If a branch is created locally, one would have to publish the branch and push to it. This command provides an easy interface for that process from the command line.</p>\n<pre><code class=\"language-bash\">push-origin = !git push --set-upstream origin \\&quot;$(git rev-parse --abbrev-ref HEAD)\\&quot;\n</code></pre>\n</li>\n<li><p><code>uncommit</code> - This resets the last commit made within a git repository.</p>\n<pre><code class=\"language-bash\">uncommit = reset --soft HEAD~1\n</code></pre>\n</li>\n</ol>\n<h3 id=\"working-with-a-bare-git-repository\">Working with a bare git repository</h3>\n<Note>\nWorking within a git repository provides much needed functionality. However, bare repositories with git worktrees. provide an opportunity to switch in between different pieces of work seamlessly, without having to clone the repository over and over again.\n</Note>\n\n<ol>\n<li><p><code>clone-bare</code> - Pass in a git url and clone into a bare repository.</p>\n<pre><code class=\"language-bash\">clone-bare = !git clone --bare\n</code></pre>\n</li>\n<li><p><code>wa</code> -”worktree add” - Within a bare repository, this git alias takes two commands, the first being the new branch name, the second being the base branch. The new worktree will be located at the path that matches the branch name and based on the base branch.</p>\n<p> Note: The Command <code>git rev-parse --git-common-dir</code> ensures that worktree paths are always generated from the root of the bare repo</p>\n<pre><code class=\"language-bash\">wa = &quot;!sh -c \\&quot;cd $(git rev-parse --git-common-dir) &amp;&amp; git worktree add --track -b &#39;$1&#39; &#39;$1&#39; &#39;$2&#39;\\&quot; -&quot;\n</code></pre>\n</li>\n<li><p><code>fetch-some</code> - Inside a bare repository, fetch and update the local branches  of the comma-delimited list of branches. This is useful if one would want to update the local branches with their remote updates.</p>\n<pre><code class=\"language-bash\">fetch-some = &quot;!f() { IFS=&#39;,&#39;; for b in $1; do git fetch origin $b:$b -u; done; unset IFS; }; f&quot;\n</code></pre>\n</li>\n<li><p><code>fetch-all</code> - For all the worktrees in a bare repository, update with their remotes. This is the equivalent of going into each of the worktrees and running <code>git pull</code></p>\n<pre><code class=\"language-bash\">fetch-all = &quot;!git for-each-ref --format=&#39;%(refname:short)&#39; refs/heads/ | while read branch; do git fetch origin $branch:$branch; done&quot;\n</code></pre>\n</li>\n</ol>\n<h3 id=\"the-complete-list\">The Complete List</h3>\n<p>All the git aliases mentioned above can be directly added to the <code>~/.gitconfig</code> file via a code editor.</p>\n<pre><code class=\"language-bash\"># The .gitconfig file\n\n[alias]\n    # Pass in a commit Message, This will stage ALL the changed files and commit with the provided commit message\n    ac = !git add -A &amp;&amp; git commit -S -m\n    # Filter changed files based on a string and ONLY stage files that contain that substring in the diff\n    add-string =  &quot;!sh -c \\&quot;git diff -G &#39;$1&#39; --name-only | xargs git add\\&quot; -&quot;\n    c = !git commit -S -m\n    # This clones a git repository into bare repository\n    clone-bare = !git clone --bare\n    # For each the comma-delimited x of provided input a,b,c,...,n run git fetch origin x:x\n    fetch-some = &quot;!f() { IFS=&#39;,&#39;; for b in $1; do git fetch origin $b:$b -u; done; unset IFS; }; f&quot;\n    # For each branch y in a git bare repo, run git fetch origin y:y\n    fetch-all = &quot;!git for-each-ref --format=&#39;%(refname:short)&#39; refs/heads/ | while read branch; do git fetch origin $branch:$branch; done&quot;\n    # List the last n checked out branches in a git repository\n    last-checked = !git reflog | grep -i &#39;checkout: moving&#39; | head -n\n    # lists the &quot;parent&quot; branch for a given branch\n    # Source: https://stackoverflow.com/questions/3161204/how-to-find-the-nearest-parent-of-a-git-branch\n    parent = &quot;!git show-branch | grep &#39;*&#39; | grep -v \\&quot;$(git rev-parse --abbrev-ref HEAD)\\&quot; | head -n1 | sed &#39;s/.*\\\\[\\\\(.*\\\\)\\\\].*/\\\\1/&#39; | sed &#39;s/[\\\\^~].*//&#39; #&quot;\n    # Sets up the upstream and pushes the local branch to the remote origin\n    push-origin = !git push --set-upstream origin \\&quot;$(git rev-parse --abbrev-ref HEAD)\\&quot;\n    # This resets the last commit made\n    uncommit = reset --soft HEAD~1\n    # This git alias takes two commands, the first being the new branch name, the second being the base branch\n    # The new worktree will be located at the path that matches the branch name and based on the base branch\n    # Git Worktree Documentation: https://git-scm.com/docs/git-worktree\n    # The Command `git rev-parse --git-common-dir ensures that worktree paths are always generated from the root of the bare repo\n    wa = &quot;!sh -c \\&quot;cd $(git rev-parse --git-common-dir) &amp;&amp; git worktree add --track -b &#39;$1&#39; &#39;$1&#39; &#39;$2&#39;\\&quot; -&quot;\n    adc = !git add -A &amp;&amp; git commit -S -m\n</code></pre>\n<h2 id=\"references\">References</h2>\n<ul>\n<li><a href=\"https://www.git-scm.com/book/en/v2/Git-Basics-Git-Aliases#_git_aliases\">Git Documentation on Git Aliases</a></li>\n<li><a href=\"https://www.atlassian.com/git/tutorials/git-alias\">Atlassian Guide on Git Alias</a></li>\n<li><a href=\"https://git-scm.com/docs/git-worktree\">Git Worktree Documentation</a></li>\n<li><a href=\"https://github.com/laudebugs/uses/blob/master/dotfiles/.gitconfig\">A reference to my own <code>.gitconfig</code> file</a></li>\n</ul>\n",
        "no": 32,
        "lastModified": "Sun Mar 12 2023"
    },
    {
        "title": "Of Everything Past And Present",
        "publishedOn": "2023-03-01",
        "author": "Laurence Ininda",
        "summary": "I am home for the first time in a while and the memories of my childhood home have something to say about my being away. What questions am I being asked to stop ignoring and confront with a ruthless honesty?",
        "slug": "of-everything-past-and-present",
        "tags": ["home", "memories"],
        "type": "journal",
        "image": "https://raw.githubusercontent.com/laudebugs/blog-posts/main/assets/of-everything-past-and-present.jpeg",
        "imageCredit": "Photo by <a href=\"https://unsplash.com/@alexrussellsaw?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText\">Alex Russell-Saw</a> on <a href=\"https://unsplash.com/photos/bLhafHPXuJE?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText\">Unsplash</a>",
        "imageOriginalUrl": "https://unsplash.com/photos/bLhafHPXuJE",
        "date": "2023-03-01T00:00:00.000Z",
        "content": "<p>I am home again.\nThere’s a little bit of everything in here.\nBoxes full of newspaper bits and torn magazines, photos and correspondence, cables and pieces of old tech, half-filled notebooks and dried up pens, hair combs and the hair from the combs, grade reports and exam papers – the family’s history contained in bits and pieces in several of these boxes sprayed throughout the house.\nThis house that I grew up in feels like a tiny house although is in fact much grander than my New York apartment.\nIt has succumbed to dust that has settled upon dust to form a crust on the corners and crevices.\nNot much has changed.\nRather everything has aged – frozen five, ten, fifteen years from a past they whence appeared.\nNothing is new, and I dislike this feeling of how old things seem.\nI rummage through some boxes and can tell a story, one too many of our family’s past.\nA past that isn’t talked about on a regular basis.\nMementos my growing up in this family flood into focus.\nBut now, I am surrounded by siblings who are worlds apart from my immediate experience – having moved into their own houses as I explore this museum of our past.</p>\n<p>I find myself organizing, separating the books from papers from photos from trash.\nI look around and make a cup of instant coffee.\nHow quickly I’ve found myself losing the taste for fresh coffee.\nPatterns I formed while away fall to the wayside in this malaise of the past.\nPresent tense in this old familiar place requires other forms of being.\nI find myself being absorbed into old routines of when I was last home.\nI sense some distance from my peers who have found themselves outside of home through finding one of their own.\nDo I have a say as to where all the clutter should go? Should I invest myself into this lifetime project to rid ourselves of the anguish that we have collected over years? How does one even begin? Is the kind of resolve required for this process contained in me? What is my complicity in all this?</p>\n<p>How much of my motivations are a reflection of my desire for a sense of accomplishment? My mother has spent her years living and being in the way she knows best – a life that cannot become mine no matter how much I try.\nI am me and she is her.\nThe qualities that I value seem to be at odds with who I am seeing her to be.\nYet, just like her, I have started this slow accumulation of things, memories, notes, experiences that have years to fully mature and someday overflow into a cluttered house that I will one day call my home.\nThis aversion to home seems to come from a misunderstanding of the kind of person my mother is – a collector of memories fueled by the refusal to simply let things fade away into mercy of the brain’s short memory.\nShe insists on taking pictures, let’s things bloom to an old age, keeps a record of things she has acquired since she can remember.\nThese are the simple patterns whence every aspect of her life flows from.\nYet, I seek the very novelty that has drawn me farther away from knowing a lifetime of living.\nFive years from now, how can I remember that things I liked, kind of food I ate, books I read, people I talked to if I throw away anchors to the person I am becoming.\nAnd that, is perhaps why I turn to this form of recording through words, though inadequate it is to keep a true account of being, of seeing, of understanding this world and what it lays before me.\nWriting, however, can only be a tool in the attempt to confront my past.\nIt can take me to the gate, but I must enter it myself, and walk through the thorny bushes, jump the cliffs, and brace the storms.\nThen, just maybe, I will again find the will to write about what I find on the other side of this journey.</p>\n",
        "no": 31,
        "lastModified": "Thu Mar 02 2023"
    },
    {
        "title": "TypeScript Type Utilities and Functions",
        "publishedOn": "2023-02-07",
        "author": "Laurence Ininda",
        "summary": "A list of useful utitity types and functions that I use across various projects.",
        "slug": "typescript-type-utilities-and-functions",
        "tags": ["typescript"],
        "type": "dev",
        "imageCredit": "Photo by <a href=\"https://unsplash.com/@everhooder?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText\">ål nik</a> on <a href=\"https://unsplash.com/photos/77HrB1xRZVc?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText\">Unsplash</a>",
        "imageOriginalUrl": "https://unsplash.com/photos/o4bJomJEQvc",
        "image": "https://raw.githubusercontent.com/laudebugs/blog-posts/main/assets/typescript-type-utilities-and-functions.jpeg",
        "date": "2023-02-07T00:00:00.000Z",
        "content": "<p>Here are some utility types and functions that I have found useful that are not enough to qualify publishing them into a library but I end up copy-pasting for use in between projects.</p>\n<h1 id=\"custom-utility-types\">Custom Utility Types</h1>\n<ol>\n<li><p><code>FilteredType</code> - A Type that filters down the <code>TypeToFilter</code> to a tuple of types that match the <code>Condition</code></p>\n<pre><code class=\"language-ts\">type FilteredType&lt;TypeToFilter, Condition&gt; = {\n    [K in keyof TypeToFilter]: TypeToFilter[K] extends Condition ? K : never\n}[keyof TypeToFilter]\n</code></pre>\n</li>\n<li><p><code>Constructable&lt;T</code>- a type that matches a type that can be instantiated, i.e. classes</p>\n<pre><code class=\"language-ts\">type Constructable&lt;T&gt; = new (...args: any[]) =&gt; T\n</code></pre>\n</li>\n<li><p><code>ValueOf</code> - For a given type, this filters down to a tuple of the values of the type</p>\n<pre><code class=\"language-ts\">type ValueOf&lt;T&gt; = T[keyof T]\n</code></pre>\n</li>\n<li><p><code>DeepPartial</code> - Makes all nested properties of an object to be Optional.</p>\n<pre><code class=\"language-ts\">type DeepPartial&lt;T&gt; = T extends Object ? {\n    [K in keyof T] : DeepPartial&lt;T[K]&gt;\n} : T\n</code></pre>\n</li>\n</ol>\n<h1 id=\"utility-functions\">Utility Functions</h1>\n<ol>\n<li><p>The <code>filterKeys</code> type filters a type based on the regex provided. This is useful if you would like to get the keys of an object that meet a certain criteria.</p>\n<pre><code class=\"language-ts\">function filterKeys&lt;T extends Object, K extends RegExp&gt;(source: T, regExp: K): FilteredType&lt;T, K&gt;[]{\n  return Object.keys(source).filter((key) =&gt;\n    regExp.test(key)\n  ) as FilteredType&lt;T, K&gt;[]\n}\n</code></pre>\n</li>\n<li><p>get constructor params - this returns a list of the constructor parameters of the class. We can also utilize the <code>Constructable&lt;T&gt;</code> type we defined earlier and pass the class into the function:</p>\n<pre><code class=\"language-ts\">/* as defined above in the utility types */\ntype Constructable&lt;T&gt; = new (...args: any[]) =&gt; T\n\nfunction getConstructorParams&lt;T&gt;(constructor: Constructable&lt;T&gt;) {\n    const params = constructor.toString().match(/\\(([^)]*)\\)/)?.[1]\n    return params?.split(&#39;,&#39;).map((param) =&gt; param.trim()) ?? []\n}\n</code></pre>\n</li>\n</ol>\n",
        "no": 30,
        "lastModified": "Mon Feb 06 2023"
    },
    {
        "title": "Guarding against Unsaved Changes in Angular Apps using Route Guards",
        "publishedOn": "2023-02-04",
        "author": "Laurence Ininda",
        "summary": "How to utilize route guards to inform users of unsaved changes when navigating to a different page in Angular apps.",
        "slug": "guarding-against-unsaved-changes-with-route-guards-angular",
        "tags": ["angular", "tips"],
        "type": "dev",
        "image": "https://raw.githubusercontent.com/laudebugs/blog-posts/main/assets/guarding-against-unsaved-changes-with-route-guards-angular.jpeg",
        "imageDescription": "",
        "imageCredit": "Photo by <a href=\"https://unsplash.com/@springwellion?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText\">Catherine Kay Greenup</a> on <a href=\"https://unsplash.com/photos/36vvGmTl198?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText\">Unsplash</a>",
        "imageOriginalUrl": "https://unsplash.com/photos/36vvGmTl198",
        "date": "2023-02-04T00:00:00.000Z",
        "content": "<p>We’ve all sometimes mistakingly closed a document editor with a paragraph or two of unsaved edits, or that browser tab where we were drafting an email. Most of the time, when we attempt to navigate away to other parts of these applications, we get a reminder through a dialog box that we have some information that hasn’t yet been synced in the cloud (if the particular app in question even has an autosave feature).</p>\n<p>Within Angular applications, we can leverage the <code>CanDeactivate</code> interface to implement a route guard which can then be added to the <a href=\"https://angular.io/api/router/Route#properties\">route’s <code>canDeactivate</code> property</a> to notify a user that they have unsaved changes in their app.</p>\n<h2 id=\"defining-the-component-that-can-deactivate-navigation\">Defining the Component that can deactivate navigation</h2>\n<Aside>\n\n<p>The <code>CanDeactivate</code> is an interface that a component has to implement that allows it to “intercept” navigation calls and cancel or proceed with navigation.</p>\n</Aside>\n\n<p>The component that checks whether navigation can proceed or be cancelled contains a function, <code>canDeactivate</code>,  that can be called in the route guard to check whether or not navigation away from the component or page can continue or be cancelled.</p>\n<p>An interface can be defined which will be implemented by our component. The function to be called can have one of the following return types:</p>\n<pre><code class=\"language-tsx\">type CanDeactivateFn = (...args: any[]) =&gt; Observable&lt;boolean | UrlTree&gt; | Promise&lt;boolean | UrlTree&gt; | boolean | UrlTree;\n</code></pre>\n<p>In our case, we’ll stick to <code>boolean | Observable&lt;boolean&gt;</code>. Our component will call it’s <code>canDeactivate</code> function and return <code>boolean | Observable&lt;boolean&gt;</code> depending on whatever checks the component runs to determine this.</p>\n<p>So we have as our interface:</p>\n<pre><code class=\"language-tsx\">// deactivatable-component.interface.ts\nexport interface DeactivatableComponent {\n    canDeactivate: () =&gt; boolean | Observable&lt;boolean&gt;\n}\n</code></pre>\n<p>We can now implement this interface in a component. Assuming we have a form page that would possibly contains unsaved changes, the component has the following functions:</p>\n<ul>\n<li><code>containsUnsavedChanges</code> - a function that returns <code>true</code> or <code>false</code> checking if the form values have been saved by the user. This implementation could be enhanced to fit any use case — even checking the server for unsaved changes or invalid values and so forth</li>\n<li><code>ngAfterViewInit</code> - this is a life cycle hook that updates the form with the values saved in local storage. These values could be updated from the state and/or the database</li>\n<li><code>save</code> - this function updates the state when the user clicks the “Save” button.</li>\n<li><code>canDeactivate</code> - this is our implementation of the <code>CanDeactivate</code> interface that our component implements. This function checks whether changes have been saved when a user tries to navigate away from the page, and if not, opens a dialog to confirm whether the user would like to proceed with or without saving the changes</li>\n</ul>\n<pre><code class=\"language-tsx\">import { AfterContentInit, Component, ViewChild } from &#39;@angular/core&#39;\nimport { NgForm } from &#39;@angular/forms&#39;\nimport { MatDialog } from &#39;@angular/material/dialog&#39;\nimport { tap } from &#39;rxjs&#39;\nimport { CoreModule } from &#39;../../core/core.module&#39;\nimport { DeactivatableComponent } from &#39;../../unsaved-changes.guard&#39;\nimport { UnsavedChangesDialog } from &#39;../unsaved-changes-dialog.component&#39;\n\n@Component({\n        standalone: true,\n    imports: [CoreModule],\n    templateUrl: &#39;./favorites-form.component.html&#39;,\n    styles: [\n        `\n            h1{\n                text-align: center;\n            }\n            form{\n                margin: 1em;\n                display: grid;\n                gap: 1em;\n            }\n            footer{\n                display: flex;\n                justify-content: center;\n                align-items: center;\n                flex-direction: column;\n\n            }\n            .unsaved-changes{\n                margin-bottom: 0.5em;\n            }\n        `,\n    ],\n})\nexport FormComponent implements DeactivatableComponent{\n        /** Our favorites object to save changes */\n    private favorites = { movie: &#39;&#39;, tvShow: &#39;&#39; }\n    /** Read the form from the Template */\n    @ViewChild(&#39;FavoritesForm&#39;, { static: true }) favoritesForm!: NgForm\n\n    constructor(private dialog: MatDialog) {}\n\n    ngAfterContentInit() {\n        /** We need to check the next tick since the controls are not registered yet */\n        setTimeout(() =&gt;\n            this.favoritesForm.setValue(JSON.parse(window.localStorage?.getItem(&#39;favorites&#39;)) ?? this.favorites)\n        )\n        this.favorites = JSON.parse(window.localStorage?.getItem(&#39;favorites&#39;)) ?? this.favorites\n    }\n\n    /**\n     * Checks whether the form contains unsaved changes\n     */\n    containsUnsavedChanges() {\n        return Object.keys(this.favorites)\n            .map((key) =&gt; this.favoritesForm.value[key] === this.favorites[key])\n            .some((value) =&gt; !value)\n    }\n\n    /**\n     * Updates the favorites object and saves it to local storage\n     */\n    save() {\n        this.favorites = { ...this.favoritesForm.value }\n        window.localStorage.setItem(&#39;favorites&#39;, JSON.stringify(this.favorites))\n    }\n\n    /**\n     * If changes are not saved, a dialog is opened to confirm with the user\n     * that they want to proceed without saving\n     */\n    canDeactivate() {\n        if (!this.containsUnsavedChanges()) {\n            return true\n        } else {\n            return this.dialog.open(UnsavedChangesDialog).afterClosed()\n        }\n    }}\n}\n</code></pre>\n<p>Here would be the template for this component:</p>\n<pre><code class=\"language-html\">&lt;h1&gt;Favourite Movies &amp; TV Shows&lt;/h1&gt;\n&lt;form #FavoritesForm=&quot;ngForm&quot;&gt;\n    &lt;mat-form-field&gt;\n        &lt;mat-label&gt;Favorite Movie of all time&lt;/mat-label&gt;\n        &lt;input name=&quot;movie&quot; matInput placeholder=&quot;Ex. Interstellar&quot; value=&quot;&quot; ngModel /&gt;\n    &lt;/mat-form-field&gt;\n\n    &lt;mat-form-field&gt;\n        &lt;mat-label&gt;Favorite TV Show of all time&lt;/mat-label&gt;\n        &lt;input name=&quot;tvShow&quot; matInput placeholder=&quot;Ex. The Last of Us&quot; ngModel /&gt;\n    &lt;/mat-form-field&gt;\n&lt;/form&gt;\n&lt;footer&gt;\n    &lt;p *ngIf=&quot;containsUnsavedChanges()&quot; class=&quot;unsaved-changes&quot; color=&quot;warn&quot;&gt;The form contains unsaved changes&lt;/p&gt;\n    &lt;button mat-raised-button color=&quot;primary&quot; (click)=&quot;save()&quot;&gt;Save&lt;/button&gt;\n&lt;/footer&gt;\n</code></pre>\n<p>As one can infer from the form, if the user doesn’t save changes, then a dialog will be opened to confirm whether the user would like to save the changes or not</p>\n<h2 id=\"implementing-the-candeactivate-guard\">Implementing the CanDeactivate guard</h2>\n<p>There are two ways of writing route guards in Angular. Either a class that implements the <code>CanDeactivate</code> interface or a function with <a href=\"https://angular.io/api/router/CanDeactivateFn\">the <code>CanDeactivateFn</code> signature.</a></p>\n<ol>\n<li><p>Implementing the guard as a function</p>\n<p> As of Angular 14.2, Functional Route guards were introduced as a way to simplify the writing and wiring up of various types of guards in Angular. You can read more about the updates in <a href=\"https://blog.angular.io/advancements-in-the-angular-router-5d69ec4c032\">this blog post (Advancements in the Angular Router)</a>.</p>\n<p> Our implementation would then simply call the components <code>canDeactivate</code> function</p>\n<pre><code class=\"language-tsx\">import { CanDeactivateFn } from &#39;@angular/router&#39;\nimport { Observable } from &#39;rxjs&#39;\nimport { DeactivatableComponent } from &#39;./deactivatable-component.interface.ts&#39;\n\n/** Our Route Guard as a Function */\nexport const canDeactivateFormComponent: CanDeactivateFn&lt;DeactivatableComponent&gt; = (component: DeactivatableComponent) =&gt; {\n    if (component.canDeactivate) {\n        return component.canDeactivate()\n    }\n    return true\n}\n</code></pre>\n<p> This function can then be passed directly to the routes as:</p>\n<pre><code class=\"language-tsx\">const routes: Routes = [\n    {\n        path: &#39;favorites&#39;,\n        component: FavoritesForm,\n        canDeactivate: [canDeactivateFormComponent],\n    },\n]\n</code></pre>\n</li>\n<li><p>Implementing the route guard as an injectable class</p>\n<p> Route guards can also be implemented as an injectable class. This implementation looks very similar to the functional guard. And so we have:</p>\n<pre><code class=\"language-tsx\">import { CanDeactivate } from &#39;@angular/router&#39;\nimport { Observable } from &#39;rxjs&#39;\nimport { Injectable } from &#39;@angular/core&#39;\n\n/* Our Route Guard as an Injectable Class */\n@Injectable({\n    providedIn: &#39;root&#39;,\n})\nexport class UnsavedChangesGuard implements CanDeactivate&lt;DeactivatableComponent&gt; {\n    canDeactivate: CanDeactivateFn&lt;DeactivatableComponent&gt; = (component: DeactivatableComponent) =&gt; {\n        if (component.canDeactivate) {\n            return component.canDeactivate()\n        }\n        return true\n    }\n}\n\nexport interface DeactivatableComponent {\n    canDeactivate: () =&gt; boolean | Observable&lt;boolean&gt;\n}\n</code></pre>\n<p> This can then also be added to the <code>canDeactivate</code> property for the route as:</p>\n<pre><code class=\"language-tsx\">const routes: Routes = [\n    {\n        path: &#39;favorites&#39;,\n        component: FavoritesForm,\n        canDeactivate: [canDeactivateFormComponent],\n    }\n]\n</code></pre>\n</li>\n</ol>\n<p>With our guard in place, if we edit the form and try to navigate away without saving, we will be warned through a dialog</p>\n<p>You can <a href=\"https://angular-zzjpgu.stackblitz.io\">preview an example of the app here</a>:\n<StackBlitzEmbed\n  projectId=\"angular-zzjpgu\"\n  openFile=\"src/app/components/home.component.ts\"\n  view=\"preview\">\n</StackBlitzEmbed></p>\n<h2 id=\"links-and-resources\">Links and Resources</h2>\n<ul>\n<li><a href=\"https://angular.io/api/router/Route#properties\"><code>Route</code> properties (Angular Docs)</a></li>\n<li><a href=\"https://angular.io/api/router/CanDeactivateFn\"><code>CanDeactivateFn</code> signature</a></li>\n<li><a href=\"https://angular.io/api/router/CanDeactivate\"><code>CanDeactivate</code> interface</a></li>\n<li><a href=\"https://blog.angular.io/advancements-in-the-angular-router-5d69ec4c032\">Advancements in the Angular Router</a> (Angular Blog)</li>\n</ul>\n<h3 id=\"heres-my-track-of-the-week\">Here&#39;s my track of the Week</h3>\n<p>&lt;SpotifyTrack\n  src=&quot;<a href=\"https://open.spotify.com/embed/track/5Te2aNOI54aBtQPqLqMsSq?utm_source=generator&amp;theme=0&quot;\">https://open.spotify.com/embed/track/5Te2aNOI54aBtQPqLqMsSq?utm_source=generator&amp;theme=0&quot;</a></p>\n<blockquote>\n</SpotifyTrack>\n</blockquote>\n",
        "no": 29,
        "lastModified": "Mon Feb 06 2023"
    },
    {
        "title": "NX Tips: Managing TsConfig Compiler Options Paths when building multiple angular libraries",
        "publishedOn": "2022-10-19",
        "author": "Laurence Ininda",
        "summary": "When building an angular library lib-a that depends on another angular library lib-b within an nx workspace, you may encounter an error like this: Error: Cannot find module 'lib-b' or its corresponding type declarations. We will see how to fix this error by updating the base tsConfig.",
        "slug": "nx-tips-managing-tsconfig-paths-with-multiple-angular-libraries",
        "tags": ["nx", "monorepos", "angular"],
        "type": "dev",
        "image": "https://raw.githubusercontent.com/laudebugs/blog-posts/main/assets/nx-tips-managing-tsconfig-paths-with-multiple-angular-libraries.jpeg",
        "imageDescription": "",
        "imageCredit": "Photo by <a href=\"https://unsplash.com/@digital_helium?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText\">Mikhail Abramkin</a> on <a href=\"https://unsplash.com/s/photos/construction-wallpaper?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText\">Unsplash</a>",
        "imageOriginalUrl": "https://unsplash.com/photos/g8Ewh0F0gUw",
        "date": "2022-10-19T00:00:00.000Z",
        "content": "<p>Working with NX allows one to develop publishable or local shared libraries for all the applications and libraries in the monorepo itself.</p>\n<p>One issue that one may encounter is when trying to build libraries that depend on other libraries within the same monorepo. Say for instance we are working in an nx workspace called <code>@boomerang</code> and within this workspace we have two angular <a href=\"https://nx.dev/more-concepts/buildable-and-publishable-libraries#buildable-libraries\">buildable libraries</a> called <code>@boomerang/common</code> and <code>@boomerang/utils</code>. Since these are Angular libraries, NX uses it&#39;s own wrapper around <code>ng-packagr</code> called <a href=\"https://nx.dev/packages/angular/executors/ng-packagr-lite\"><code>@nrwl/ng-packagr-lite</code></a>. </p>\n<Aside>\n\n<p>Note: When creating a new Angular library with <code>nx generate @nrwl/angular:library</code>, if the library is both buildable and publishable, i.e. you pass in the <code>--buildable</code> and <code>--publishable</code> flags, then nx uses <a href=\"https://nx.dev/packages/angular/executors/package\"><code>@nrwl/angular:library</code></a> to build the library.</p>\n</Aside>\n\n<p>If, say <code>@boomerang/common</code> imports <code>@boomerang/utils</code>, when trying to build <code>@boomerang/common</code>, an error I encountered looked like <code>TS2307: Cannot find module &#39;@boomerang/utils&#39; or its corresponding type declarations.</code></p>\n<p>When I looked into what was causing the issue, its seems like a small tweak to the <code>tsConfig.base.json</code> at the root of the workspace by adding the <code>@boomerang/utils</code> dist path to the <code>compilerOptions</code> <code>paths</code> fixes the import issue.</p>\n<pre><code class=\"language-diff\">{\n    &quot;compilerOptions&quot;: {\n        &quot;paths: {\n            &quot;@boomerang/common&quot;: [&quot;libs/common/src/index.ts&quot;],\n-             &quot;@boomerang/utils&quot;: [&quot;libs/utils/src/index.ts&quot;],\n+             &quot;@boomerang/utils&quot;: [\n+                 &quot;dist/libs/utils&quot;,\n+                 &quot;libs/utils/src/index.ts&quot;\n+             ]\n        }\n    }\n}\n</code></pre>\n<p>This solution was inspired by this <a href=\"https://github.com/nrwl/nx/issues/602#issuecomment-414051299\">comment on nx github issues</a> as well as this <a href=\"https://github.com/zack9433/poc-workspace/commit/7dfedf7fdaf852a64e3b55960ba0678438aedc64\">commit diff solution</a>. Both of these mention updating the package.json as well to use the npm scope, i.e. updating the <code>package.json</code> for <code>@boomerang/utils</code> to look like: </p>\n<pre><code class=\"language-json\">{\n    &quot;name&quot;: &quot;@boomerang/utils&quot;\n}\n</code></pre>\n<p>However, this update doesn’t necessarily fix the build issue if your packages are not publishable. </p>\n<p>Happy Hacking!</p>\n<h3 id=\"resources-and-links\">Resources and Links</h3>\n<ul>\n<li><a href=\"https://nx.dev/more-concepts/buildable-and-publishable-libraries#publishable-and-buildable-nx-libraries\">Publishable and Buildable Nx Libraries</a></li>\n<li><a href=\"https://nx.dev/packages/angular/executors/ng-packagr-lite#@nrwl/angular:ng-packagr-lite\"><code>@nrwl/ng-packagr-lite</code> docs</a></li>\n<li><a href=\"https://www.notion.so/NX-Tips-Managing-TsConfig-Compiler-Options-Paths-when-building-multiple-angular-libraries-69a68018574242bb80bf27ee1ed0e60c\"><code>@nrwl/angular:library</code> docs</a></li>\n<li><a href=\"https://github.com/nrwl/nx/issues/602#issuecomment-414051299\">Github Comment with solution</a> </li>\n<li><a href=\"https://github.com/zack9433/poc-workspace/commit/7dfedf7fdaf852a64e3b55960ba0678438aedc64\">poc-workspace diff by zack9433 on github to show a solution</a></li>\n</ul>\n",
        "no": 28,
        "lastModified": "Tue Oct 18 2022"
    },
    {
        "title": "RxJs Pitfalls: Passing in a Observer's next function as a callback to pipe operators",
        "publishedOn": "2022-10-17",
        "author": "Laurence Ininda",
        "summary": "When using RxJs operators, you can pass in a callback function as the next function of an Observer. A common pitfall is to pass in the next function of an Observer as a callback to an RxJs operator. This post explains why this may be a bad idea causing errors that may be hard to debug and how to avoid it.",
        "slug": "rxjx-pitfalls-passing-observer-next-to-pipe-able-operator",
        "tags": ["rxjs"],
        "type": "dev",
        "image": "https://raw.githubusercontent.com/laudebugs/blog-posts/main/assets/rxjx-pitfalls-passing-observer-next-to-pipe-able-operator.jpeg",
        "imageDescription": "",
        "imageCredit": "Photo by <a href=\"https://unsplash.com/@fakurian?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText\">Milad Fakurian</a> on <a href=\"https://unsplash.com/s/photos/line-wallpaper?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText\">Unsplash</a>",
        "imageOriginalUrl": "https://unsplash.com/photos/77HrB1xRZVc",
        "date": "2022-10-17T00:00:00.000Z",
        "content": "<p>When working with observable streams, often one uses <code>RxJs</code> operators to pipe into the stream (i.e. using <a href=\"https://rxjs.dev/guide/operators\">pipe-able operators</a>). Some of these operators take observers as an argument. An observer is an object that consumes values delivered by an observable and often implements one or more of the <code>next</code>, <code>error</code> and <code>complete</code> functions.</p>\n<p>The RxJs <code>Subject</code> is a type of observable that is also an observer. A common pattern I find myself implementing in several projects is defining a <code>Subject</code>, often also a <code>BehaviorSubject</code> which then holds different pieces of data to be consumed in differnt parts of an application. In order to pass data to the <code>Subject</code>, which is also an observer, we call the <code>.next</code> with the data the Subject should hold. A simple example would be while using the <a href=\"https://rxjs.dev/api/index/function/tap\"><code>tap</code> operator</a> to perform side effects in our observable stream.</p>\n<p>A common pitfall is then passing <code>Subject.next</code> directly as the argument to a pipeable operator. For instance, when using <code>tap</code>, calling <code>tap(new Subject().next)</code>.\nWe will see how this can cause unexpected errors that are may be hard to debug and how to avoid it.</p>\n<hr>\n<p>Suppose you have an RxJs subject that is keeping track of the value in an observable stream (say called <code>stream$</code>).</p>\n<pre><code class=\"language-tsx\">import { Subject, timer, take, tap } from &#39;rxjs&#39;\n\nconst stream$ = timer(0, 1000).pipe(take(5))\n</code></pre>\n<p>One way to pass the current value to the subject is using the <code>tap</code> operator that accepts an observer, i.e. an object containing the <code>next</code>, <code>error</code> and <code>complete</code> functions.</p>\n<p>If we only pass a callback function that logs out the current value in the observable stream, we would have something that looks like:</p>\n<pre><code class=\"language-tsx\">stream$.pipe(\n    tap(console.log)\n).subscribe()\n/*\n// Result would look like:\n0\n1\n2\n3\n4\n*/\n</code></pre>\n<p>If we have a subject called <code>_count</code> where we would like to keep track of the current value in the stream, the first instinct would be to replace <code>console.log</code> with <code>_count.next</code>:</p>\n<pre><code class=\"language-tsx\">const _count = new Subject&lt;number&gt;()\n\nstream$.pipe(\n    tap(_count.next)\n).subscribe()\n</code></pre>\n<p>However, you&#39;ll notice that the above implementation <strong>does not work</strong>, resulting in the error: <code>TypeError: _this._throwIfClosed is not a function</code>.</p>\n<p>The reason being that RxJs&#39;s <code>Subject</code> is a class whose <code>next</code> implementation relies on <code>this</code> keyword which refers to the <code>_count</code> instance. You can <a href=\"https://github.com/ReactiveX/rxjs/blob/8.x/src/internal/Subject.ts#L60\">view the source code here</a>. Passing just the <code>_count.next</code> function would reference <code>this</code> which refers to the global scope and not the <code>_count</code> instance.</p>\n<p>We can see this in action by implementing our own observer that references <code>this</code>:</p>\n<pre><code class=\"language-tsx\">const observerStore = {\n    store: new Array&lt;number&gt;(),\n    next(value: number) {\n        this.store.push(value)\n    },\n}\n/* Replacing the _count with our observer would then look like below👇🏻 */\nstream$.pipe(\n    tap(observerStore.next)\n).subscribe()\n</code></pre>\n<p>The implementation above would also give us an error: <code>TypeError: Cannot read properties of undefined (reading &#39;push&#39;)</code>. For the same reason that the <code>this</code> reference would refer to the <code>global</code> object and not the <code>observerStore</code> object.</p>\n<Aside>\n\n<p>It&#39;s worth noting that if the observer&#39;s <code>next</code> implementation does not reference the <code>this</code> keyword, then passing in the <code>.next</code> function would work as expected.</p>\n</Aside>\n\n<p>For instance, if our <code>observerStore</code>&#39;s <code>next</code> function just logged out the value, then passing in the <code>observerStore.next</code> to <code>tap</code> would work as expected since the <code>next</code> function does not reference <code>this</code>:</p>\n<pre><code class=\"language-tsx\">const observerStore = {\n    store: new Array&lt;number&gt;(),\n    next(value: number) {\n        console.log(value)\n    },\n}\n\n/* Works! */\nstream$.pipe(tap&lt;number&gt;(_count.next)).subscribe()\n</code></pre>\n<h3 id=\"solutions\">Solutions</h3>\n<ol>\n<li><p>Pass in the observer object</p>\n<p> The straightforward solution would be to simply to pass in the observer object into the <code>tap</code> operator:</p>\n<pre><code class=\"language-tsx\">/* This works */\nstream$.pipe(\n    tap(observerStore)\n).subscribe()\n</code></pre>\n</li>\n<li><p>Bind the observer to <code>this</code></p>\n<p> One could use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_objects/Function/bind\"><code>Function.prototype.bind</code></a> which is available to the function prototype to bind <code>this</code> to the observer object so that when <code>this</code> is referenced, the function references the observer instead of the global <code>this</code> object:</p>\n<pre><code class=\"language-tsx\">/* _count Subjct */\nstream$.pipe(\n    tap(_count.next.bind(_count))\n).subscribe()\n\n/* the observerStore */\nstream$.pipe(\n    tap(observerStore.next.bind(observerStore))\n).subscribe()\n</code></pre>\n<p> <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_objects/Function/bind\">As the MDN docs state</a>, “The <strong><code>bind()</code></strong> method creates a new function that, when called, has its <code>this</code>keyword set to the provided value, with a given sequence of arguments preceding any provided when the new function is called.”</p>\n</li>\n</ol>\n<p>Although both of the solutions work, passing the observer object is much more clear to another reader of the code on what is going on whereas the latter would cause someone who didn&#39;t write the code to stop and ask why we are calling <code>.bind</code> in the first place.</p>\n<p>Happy hacking!</p>\n<CodeSandBox fileName=\"index.ts\">\nconsole.log('right here')\n</CodeSandBox>\n\n<h3 id=\"references\">References</h3>\n<ul>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_objects/Function/bind\">MDN references on <code>Function.prototype.bind()</code></a></li>\n<li><a href=\"https://rxjs.dev/api/operators/tap\">RxJs <code>tap</code> operator</a></li>\n<li><a href=\"https://rxjs.dev/guide/operators\">RxJs Operators</a></li>\n</ul>\n",
        "no": 27,
        "lastModified": "Mon Feb 06 2023"
    },
    {
        "title": "Customizing Angular Material with your own palette",
        "publishedOn": "2022-09-28",
        "author": "Laurence Ininda",
        "summary": "Angular Material provides a lot of flexibility in making your application represent your brand. In this article, we will look at how to customize the colors of Angular Material components to match your brand colors using several open source tools.",
        "slug": "customizing-angular-material-palette",
        "tags": ["angular", "angular-material", "theming"],
        "type": "dev",
        "image": "https://raw.githubusercontent.com/laudebugs/blog-posts/main/assets/customizing-angular-material-palette.jpeg",
        "imageDescription": "",
        "imageCredit": "Photo by <a href=\"https://unsplash.com/@nordwood?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText\">NordWood Themes</a> on <a href=\"https://unsplash.com/s/photos/design?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText\">Unsplash</a>",
        "imageOriginalUrl": "https://unsplash.com/photos/ubIWo074QlU",
        "date": "2022-09-28T00:00:00.000Z",
        "content": "<p><a href=\"https://material.angular.io/guide/theming\">Angular Material</a> provides flexibility in making your website look and feel like the brand you are trying to build.</p>\n<p>One of these the ways the library achieves this is by adding your own palette instead of <a href=\"https://material.angular.io/guide/theming#using-a-pre-built-theme\">the default themes</a>: <code>deep-purple-amber</code>, <code>indigo-pink</code>, <code>purple-green</code> or <code>pink-bluegrey</code>.</p>\n<p>The first thing you&#39;d need to do is select your primary, accent and tertiary colors. <a href=\"https://material.io/resources/color/#!/\">The material.io Color Tool</a> provides a useful visual preview of what your primary and accent colors would look like on an application interface.</p>\n<p>Here&#39;s a sample which you <a href=\"https://material.io/resources/color/#!/?primary.color=673AB7&amp;secondary.color=9C27B0&amp;view.left=0&amp;view.right=0\">can also preview here:</a></p>\n<p>&lt;img\n    alt=&quot;Using the Material UI Color Tool to select your primary and accent colors&quot;\n    src={&#39;<a href=\"https://raw.githubusercontent.com/laudebugs/blog-posts/main/assets/_/using-material-design-color-tool.png&#39;%7D\">https://raw.githubusercontent.com/laudebugs/blog-posts/main/assets/_/using-material-design-color-tool.png&#39;}</a>\n    width={&#39;100%&#39;}\n/&gt;</p>\n<p>The tool also shows you how accessible your color palette is against fonts of various colors. <a href=\"https://material.io/resources/color/#!/?primary.color=673AB7&amp;secondary.color=9b27af&amp;view.left=1&amp;view.right=0\">With the above palette</a>, for instance, the <code>P-Dark</code> with black text would not be as visible.</p>\n<p>Although this tool doesn&#39;t provide an option to add a <code>warn</code> color, the angular material <a href=\"https://material.angular.io/guide/theming#defining-a-theme\">documentation makes this palette optional</a> and defaults to <code>red</code> if not specified.</p>\n<p>With the palette above: (primary: <code>#673ab7</code>, secondary: <code>#9b27af</code>, and a warn color value of <code>#f4511e</code>), we can use an open source tool called <a href=\"https://github.com/mbitson/mcg\">Material Design Palette generator</a> to generate hues of 50 and then each 100 between 100 and 900 without having to do this manually.</p>\n<p>Our resulting palette would look like below. You could also <a href=\"http://mcg.mbitson.com/#!?primary=%23673ab7&amp;accent=%239b27af&amp;warn=%23f4511e&amp;themename=material-palette\">play around with the palette here</a> and try out different colors as well.</p>\n<p>&lt;img\n    alt=&quot;Using the Material UI Palette Generator to generate a palette&quot;\n    src={&#39;<a href=\"https://raw.githubusercontent.com/laudebugs/blog-posts/main/assets/_/using-the-palette-generator.png&#39;%7D\">https://raw.githubusercontent.com/laudebugs/blog-posts/main/assets/_/using-the-palette-generator.png&#39;}</a>\n    width={&#39;100%&#39;}\n/&gt;</p>\n<p>The cool thing about the tool above is that it provides an easy export function for various frameworks including Android, Angular, React, Vue, Ember and more.</p>\n<p>Since we are using Angular, we would use the Angular 2 Material exported values which we can define in a <code>palette.scss</code> file:</p>\n<pre><code class=\"language-scss\">/* For use in src/lib/core/theming/_palette.scss */\n$primary: (\n    50: #ede7f6,\n    100: #d1c4e9,\n    200: #b39ddb,\n    300: #9575cd,\n    400: #7e58c2,\n    500: #673ab7,\n    600: #5f34b0,\n    700: #542ca7,\n    800: #4a259f,\n    900: #391890,\n    A100: #d4c7ff,\n    A200: #ad94ff,\n    A400: #8661ff,\n    A700: #7347ff,\n    contrast: (\n        50: #000000,\n        100: #000000,\n        200: #000000,\n        300: #000000,\n        400: #ffffff,\n        500: #ffffff,\n        600: #ffffff,\n        700: #ffffff,\n        800: #ffffff,\n        900: #ffffff,\n        A100: #000000,\n        A200: #000000,\n        A400: #ffffff,\n        A700: #ffffff,\n    ),\n);\n\n$accent: (\n    50: #f3e5f5,\n    100: #e1bee7,\n    200: #cd93d7,\n    300: #b968c7,\n    400: #aa47bb,\n    500: #9b27af,\n    600: #9323a8,\n    700: #891d9f,\n    800: #7f1796,\n    900: #6d0e86,\n    A100: #efb7ff,\n    A200: #e384ff,\n    A400: #d851ff,\n    A700: #d237ff,\n    contrast: (\n        50: #000000,\n        100: #000000,\n        200: #000000,\n        300: #000000,\n        400: #ffffff,\n        500: #ffffff,\n        600: #ffffff,\n        700: #ffffff,\n        800: #ffffff,\n        900: #ffffff,\n        A100: #000000,\n        A200: #000000,\n        A400: #000000,\n        A700: #ffffff,\n    ),\n);\n\n$warn: (\n    50: #feeae4,\n    100: #fccbbc,\n    200: #faa88f,\n    300: #f78562,\n    400: #f66b40,\n    500: #f4511e,\n    600: #f34a1a,\n    700: #f14016,\n    800: #ef3712,\n    900: #ec270a,\n    A100: #ffffff,\n    A200: #ffe5e2,\n    A400: #ffb7af,\n    A700: #ffa096,\n    contrast: (\n        50: #000000,\n        100: #000000,\n        200: #000000,\n        300: #000000,\n        400: #000000,\n        500: #ffffff,\n        600: #ffffff,\n        700: #ffffff,\n        800: #ffffff,\n        900: #ffffff,\n        A100: #000000,\n        A200: #000000,\n        A400: #000000,\n        A700: #000000,\n    ),\n);\n</code></pre>\n<p>In our <code>theme.scss</code> file, we would then define our palette as below:</p>\n<pre><code class=\"language-scss\">@use &#39;./palette.scss&#39; as palette;\n@use &#39;@angular/material&#39; as mat;\n@import &#39;@angular/material/theming&#39;;\n\n$app-primary: mat.define-palette(palette.$primary);\n$app-accent: mat.define-palette(palette.$accent);\n$app-warn: mat.define-palette(palette.$warn);\n\n$app-theme: mat.define-light-theme(\n    (\n        color: (\n            primary: $app-primary,\n            accent: $app-accent,\n            warn: $app-warn,\n        ),\n    )\n);\n@include mat.all-component-themes($app-theme);\n</code></pre>\n<p>And just like that, we have customized our Angular App using Angular Material and a custom theme.</p>\n<h2 id=\"links-and-resources\">Links and Resources</h2>\n<ul>\n<li><a href=\"https://material.angular.io/\">Angular Material</a></li>\n<li><a href=\"https://material.io/resources/color/#!\">Material Design Color Tool</a></li>\n<li><a href=\"https://github.com/mbitson/mcg\">Material Design Palette Generator</a></li>\n</ul>\n",
        "no": 26,
        "lastModified": "Mon Oct 17 2022"
    },
    {
        "title": "In Pursuit of Imperfection",
        "publishedOn": "2022-08-29",
        "author": "Laurence Ininda",
        "summary": "What can we make of work that never really feels finished? So much of what we aim to achieve is much more primal in nature than we care to admit. Where can we strike the balance between what we can do versus what we have no control over?",
        "slug": "in-pursuit-of-imperfection",
        "tags": ["work", "programming", "imperfect work"],
        "type": "journal",
        "image": "https://raw.githubusercontent.com/laudebugs/blog-posts/main/assets/in-pursuit-of-imperfection.jpeg",
        "imageDescription": "",
        "imageCredit": "Photo by <a href=\"https://unsplash.com/@brazofuerte?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText\">Collin Armstrong</a> on <a href=\"https://unsplash.com/s/photos/abandoned?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText\">Unsplash</a>",
        "imageOriginalUrl": "https://unsplash.com/photos/zpbpB4edB70",
        "date": "2022-08-29T00:00:00.000Z",
        "content": "<p>It seems, at least to me, that there is this urge, a vengeful pursuit towards cleaning up the corners and crevices of what we produce. We want it to be this little egg that never gets spoilt — stuck in time. Even in programming, there&#39;s nothing sweeter than getting something done. Yet, it&#39;s never really done and once it&#39;s commited, it&#39;s privy to enter such an imperfect system that includes other developers, the business&#39; changing needs, evolving technologies. And yet — this very fact becomes so present and true everyday that nothing else seems like its meant to last. Why, one may ask, is it a thing for an engineer to be pumped up to start a new job only to switch in about two years? For the experience? To become a multifaceted problem-solver only to want so badly that one to two year sabbatical that promises insight into the ether.</p>\n<p>Why should we write tests? Why should we refactor? Why should we write documentation? The answers to such questions are easy to bullet point and yet, I see in them a pursuit of some kind of impact. Because we don&#39;t do each of these tasks out of pleasure — as some would like to claim, but out of desiring that (a) our code “feel” perfect and immutable or on a more altruistic sense that (b) our efforts might help someone understand why we wrote the code the way we did.</p>\n<p>In a sense, it helps to understand that our efforts may or may not matter. Yet, it&#39;s we keep adding, giving even though we may not know if it will be received or not. We move on, start something here, pick up something else there and wander in pursuit of imperfection, adding our own, because that&#39;s unmistakably what remains when we leave.</p>\n",
        "no": 25,
        "lastModified": "Mon Oct 17 2022"
    },
    {
        "title": "Writing a Custom RxJS Operator",
        "publishedOn": "2022-07-23",
        "author": "Laurence Ininda",
        "summary": "RxJs has a ton of operators that you can use within your observable streams. But how would you approach writing your own custom operators for some specific use case?",
        "slug": "writing-a-custom-rxjs-operator",
        "tags": ["rxjs", "javascript"],
        "type": "dev",
        "image": "https://raw.githubusercontent.com/laudebugs/blog-posts/main/assets/writing-a-custom-rxjs-operator.jpeg",
        "imageDescription": "",
        "imageCredit": "Photo by <a href=\"https://unsplash.com/@solenfeyissa?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText\">Solen Feyissa</a> on <a href=\"https://unsplash.com/s/photos/flow?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText\">Unsplash</a>",
        "imageOriginalUrl": "https://unsplash.com/photos/IfWFKG3FXE4",
        "date": "2022-07-23T00:00:00.000Z",
        "content": "<p>While working with <code>rxjs</code>, there are plenty of operators that one can use within the <code>.pipe</code> operator of an observable. Just take a look at the api reference here and you&#39;ll realize that <code>rxjs</code> provides all the operators that you need for most cases.</p>\n<p>However, what if you needed to write your custom operator to transform data the way you wanted, or tweak the <code>captureError</code> operator to handle the error in a certain way and return something else in case an error happened.</p>\n<p>In an application I was working on, for which I was using <a href=\"https://docs.sentry.io/\">Sentry</a> to handle any errors, I wanted to have the <code>captureError</code> to send the error message to Sentry, and return fallback data in case an error happened.</p>\n<pre><code class=\"language-tsx\">import { captureException } from &#39;@sentry/angular&#39;\nimport { BehaviorSubject, Observable, OperatorFunction, catchError, tap } from &#39;rxjs&#39;\n\nexport function consume&lt;T&gt;(consumer: BehaviorSubject&lt;T&gt;, fallback$: Observable&lt;T&gt;): OperatorFunction&lt;T, T&gt; {\n    return (source$: Observable&lt;T&gt;) =&gt; {\n        return source$.pipe(\n            catchError((error) =&gt; {\n                captureException(error)\n                return fallback$\n            }),\n            tap(consumer),\n        )\n    }\n}\n</code></pre>\n<Aside>\n\n<p>Note that the <code>rxjs</code> tap operator takes either an observer object. In our case, our <code>consumer</code> is a <code>Behavior Subject</code> <a href=\"https://rxjs.dev/guide/subject\">which is also an observer</a>.</p>\n</Aside>\n\n<p>The operator above is written in the form of <a href=\"https://javascript.info/currying-partials\">a curried function</a>, that accepts two initial inputs: <code>consumer</code> - which in this case was a behavior subject that stores the current value in the observable stream, and <code>fallback$</code> which is the data to return in case an error happens. If no error happens, the <code>captureError</code> rxjs operator isn&#39;t called. In all cases, either the data from the observable stream or the fallback data is passed on to the consuming <a href=\"https://rxjs.dev/api/index/class/BehaviorSubject\">behavior Subject.</a></p>\n<p>And there we have it! Our own custom RxJS operator 🧞‍♂️</p>\n<h2 id=\"links\">Links</h2>\n<ul>\n<li><a href=\"https://rxjs.dev/\">RxJs documentation</a></li>\n<li><a href=\"https://rxjs.dev/api/index/class/Subject\">RxJs Subject reference</a></li>\n<li><a href=\"https://www.learnrxjs.io/learn-rxjs/operators/error_handling/catch\">catch / catchError in RxJs</a></li>\n<li><a href=\"https://docs.sentry.io/platforms/javascript/\">Sentry JavaScript library documentation</a></li>\n<li><a href=\"https://javascript.info/currying-partials\">Currying in JavaScript</a></li>\n</ul>\n",
        "no": 24,
        "lastModified": "Mon Oct 17 2022"
    },
    {
        "title": "Dynamic Components in Angular",
        "publishedOn": "2022-02-07",
        "author": "Laurence Ininda",
        "summary": "Building dynamic components in Angular can be tricky at times. However, with Dynamic components, we have granular control over how we can generate components in our application and use this feature to our advantage.",
        "slug": "dynamic-components-angular",
        "tags": ["angular", "dynamic components"],
        "type": "dev",
        "image": "https://raw.githubusercontent.com/laudebugs/blog-posts/main/assets/dynamic-components-angular.jpeg",
        "imageCredit": "Photo by <a href=\"https://unsplash.com/@theshubhamdhage?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText\">Shubham Dhage</a> on <a href=\"https://unsplash.com/?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText\">Unsplash</a>",
        "date": "2022-02-07T00:00:00.000Z",
        "content": "<p>Angular components can be created(instantiated) at different points of the applications cycle wither at build-time or at run-time. Creating components at run-time (dynamically) is what we are going to look at.</p>\n<p>Broadly speaking, there are two ways to create dynamic components in Angular:</p>\n<ol>\n<li>Using a <code>ViewContainerRef</code> - that <a href=\"https://angular.io/api/core/ViewContainerRef#viewcontainerref\">“represents a container where one or more views can be attached to a component.”</a> or</li>\n<li>By using Angular&#39;s built in <a href=\"https://angular.io/api/common/NgComponentOutlet\"><code>NgComponentOutlet</code> directive</a></li>\n</ol>\n<p>The main focus of this article will be the former, using a <code>ViewContainerRef</code> to create dynamic components since the Angular documentation is really clear on the second way - using <code>NgComponentOutlet</code>.</p>\n<h1 id=\"using-viewcontainerref\">Using <code>ViewContainerRef</code></h1>\n<p>The <code>ViewContainerRef</code> is a class that gets access to a container where other components (host views) can be inserted at run time using the <code>createComponent()</code> method of the <code>ViewContainerRef</code> class.</p>\n<p>To dynamically create a component, we have to decide how and where we would like to place the component (the “anchor point”).</p>\n<h2 id=\"step-1-defining-the-anchor-point\">Step 1. Defining the anchor point</h2>\n<p>How you define the anchor point determines where you can place it within a host component.</p>\n<h3 id=\"i-the-anchor-directive\">(i) The Anchor Directive</h3>\n<p>Following the <a href=\"https://angular.io/guide/dynamic-component-loader#the-anchor-directive\">Angular docs example</a> on creating a dynamic component, one can utilize a directive placed on an element such that the element will act as an insertion point to the dynamic component (a host - i.e. “Create the dynamic component and place me wherever you see this directive” on an element.)</p>\n<p>To achieve this, we first create the directive and inject the <code>ViewContainerRef</code> . The <code>ViewContainerRef</code> will get a reference to the element on which the directive is placed, dynamically create the component and insert it into the view at the position where the element is.</p>\n<p>Take the scenario where we would like to display <a href=\"https://github.com/laudebugs/dynamic-components-angular/wiki/Movie-Data\">a list of movies</a> with their information (a simple example that can be achieved with other ways but easy enough to demonstrate with dynamic components).</p>\n<p>A movie has the following interface:</p>\n<pre><code class=\"language-ts\">export interface IMovie {\n    id: number\n    title: string\n    poster: string\n    synopsis: string\n    genres: Array&lt;string&gt;\n    year: number\n    director: string\n    actors: Array&lt;string&gt;\n    hours: Array&lt;string&gt;\n}\n</code></pre>\n<p>We can then define our <code>MovieHostDirective</code> as follows:</p>\n<pre><code class=\"language-ts\">import { Directive, ViewContainerRef } from &#39;@angular/core&#39;\n\n@Directive({\n    selector: &#39;[movieHost]&#39;,\n})\nexport class MovieHostDirective {\n    constructor(public viewContainerRef: ViewContainerRef) {}\n}\n</code></pre>\n<p>When we then create our host component template, we can place this directive on an element such as a <code>div</code> or using angular&#39;s <code>ng-template</code> or <code>ng-container</code>.</p>\n<pre><code class=\"language-html\">&lt;!-- using an html element --&gt;\n&lt;div movieHost&gt;&lt;/div&gt;\n\n&lt;!-- Using ng-template --&gt;\n&lt;ng-template movieHost&gt;&lt;/ng-template&gt;\n\n&lt;!-- using ng-container --&gt;\n&lt;ng-container movieHost&gt;&lt;/ng-container&gt;\n</code></pre>\n<Aside>\n\n<p>All of the above ways are valid ways of attaching an anchor directive. However, as the Angular docs point out, <a href=\"https://angular.io/guide/dynamic-component-loader#loading-components\">&quot;[t]he <code>ng-template</code> element is a good choice for dynamic components because it doesn&#39;t render any additional output.&quot;</a></p>\n</Aside>\n\n<p>We can then get a reference to the element with the directive by querying the component template for the first occurrence of the directive (using <code>ViewChild</code> ), or all occurrences of the directive (using <code>ViewChildren</code>):</p>\n<pre><code class=\"language-ts\">/* Using ViewChild to get the first occurrence */\n@ViewChild(MovieHostDirective, { static: true }) movieHost: MovieHostDirective;\n\n/* Using ViewChildren to get the all occurrences */\n@ViewChildren(MovieHostDirective, { static: true }) movieHosts: QueryList&lt;MovieHostDirective&gt;;\n</code></pre>\n<Aside>\n\n<p>Note that <code>@ViewChildren</code> will return a <code>QueryList</code> - that contains a list of of <code>ViewContainerRef</code> types. To get elements inside of the <code>QueryList</code>, one can use the <code>QueryList</code>&#39;s <code>.length</code> property together with the <code>.get</code> method to get an element at a particular index. For example, for a query list of length 1, we can get the first element by <code>movieHosts.get(0)</code>. In our example this will return a <code>ViewContainerRef</code> that contains a <code>MovieHostDirective</code> instance. Documentation on <a href=\"https://angular.io/api/core/ViewChildren\"><code>@ViewChildren</code> can be found here</a> .</p>\n</Aside>\n\n<h3 id=\"ii-using-a-template-variable-to-target-an-element-as-an-anchor\">(ii) Using a Template Variable to target an element as an Anchor</h3>\n<p>One can target an element to act as a host for our dynamic component by using a template variable that follows the syntax <code>#</code> followed by whatever variable name we would like. For example, if our template variable name is to be called: <code>TemplateRefAnchor</code> then, in our html template, we would have:</p>\n<pre><code class=\"language-html\">&lt;!-- using an html element --&gt;\n&lt;div #TemplateRefAnchor&gt;&lt;/div&gt;\n\n&lt;!-- Using ng-template --&gt;\n&lt;ng-template #TemplateRefAnchor&gt;&lt;/ng-template&gt;\n\n&lt;!-- using ng-container --&gt;\n&lt;ng-container #TemplateRefAnchor&gt;&lt;/ng-container&gt;\n</code></pre>\n<h3 id=\"iii-the-host-view-as-the-anchor\">(iii) The Host View as the Anchor</h3>\n<p>We can use the host view (the component in which we will create the dynamic component) as an anchor for the newly created component. In this case, the created components would be appended at the end of the DOM tree. This works if we know that we don&#39;t have to insert the newly created elements before other elements that were generated at build time.</p>\n<p>In this case, we inject the <code>ViewContainerRef</code> into the component:</p>\n<h2 id=\"step-2-creating-the-dynamic-component\">Step 2: Creating the Dynamic Component</h2>\n<p>Taking the <code>@ViewChild</code> use case, (the same applies to the <code>@ViewChildren</code> case), the view queries are set before the <code>ngAfterViewInit</code> life cycle hook is called. We can then create our dynamic components at this point.</p>\n<pre><code class=\"language-ts\">import { Component, AfterViewInit, ViewChild, } from &#39;@angular/core&#39;;\n\n/* We defined the MovieHostDirective earlier */\nimport { MovieHostDirective } from &#39;../core/directives/movie-host.directive&#39;\n/* Assume we created this MovieComponent component somewhere else */\nimport { MovieComponent } from &#39;../core/components/movie/movie.component&#39;\n\n@Component({\n    selector: &#39;app-home&#39;,\n    template: `&lt;ng-template movieHost&gt;&lt;/ng-template&gt;`,\n})\nexport class HomeComponent extends AfterViewInit {\n    /* Look up the element containing the MoviehostDirective */\n    @ViewChild(MovieHostDirective, { static: true, read: ViewContainerRef }) movieHost!: ViewContainerRef\n\n    /* Look Up the template reference called TemplateRefAnchor */\n    @ViewChild(&#39;TemplateRefAnchor&#39;, { static: true, read: ViewContainerRef }) templateRefAnchor!: ViewContainerRef\n\n    /* Another template reference to use createOptions */\n    @ViewChild(&#39;UsingCreateComponentOptionsAnchor&#39;, { static: true, read: ViewContainerRef }) createComponentOptionsAnchor!: ViewContainerRef\n\n    /* Create dynamic components here */\n    ngAfterViewInit(){\n        const component = this.movieHost.createComponent(MovieComponent)\n        component.instance.movie = MOVIES[0]\n    }\n}\n</code></pre>\n<p>Similar example while using a template reference as an anchor:</p>\n<pre><code class=\"language-ts\">// ... code ommited\n@Component({\n    selector: &#39;app-home&#39;,\n    template: `&lt;ng-template #TemplateRefAnchor&gt;&lt;/ng-template&gt;`,\n})\nexport class HomeComponent extends AfterViewInit {\n    /* Look Up the template reference called TemplateRefAnchor */\n    @ViewChild(&#39;TemplateRefAnchor&#39;, { static: true, read: ViewContainerRef }) templateRefAnchor!: ViewContainerRef\n\n    ngAfterViewInit(){\n        /* Create the dynamic component using the template reference as an anchor */\n        const component = this.templateRefAnchor.createComponent(MovieComponent)\n        component.instance.movie = MOVIES[0]\n    }\n}\n</code></pre>\n<p>Similar example using the host element as the anchor:</p>\n<pre><code class=\"language-ts\">// ... code ommited\n@Component({\n    selector: &#39;app-home&#39;,\n    template: `&lt;h1&gt; Host element &lt;/h1&gt;`,\n})\nexport class HomeComponent extends AfterViewInit {\n\n    constructor(private viewContainerRef: ViewContainerRef) { }\n\n    ngAfterViewInit(){\n        const component = this.viewContainerRef.createComponent(MovieComponent)\n        component.instance.movie = MOVIES[0]\n    }\n}\n</code></pre>\n<Aside>\n\n<p>Notice that we are directly modifying the data of the dynamically created component.😱\nThis works, but it becomes problematic when you want to be strict about immutability or uni-directional data flow, and with <code>QueryLists</code>, we can&#39;t use this approach since the elements in the <code>QueryList</code> are immutable.</p>\n</Aside>\n\n<p>We also see another issue with this approach. Since we mutate the data of the dynamic component, Angular&#39;s change detection will throw the <code>ExpressionChangedAfterItHasBeenCheckedError</code> warning that you may have encountered before:</p>\n<div style={{display: 'flex', justifyContent: 'center'}}>\n\n<p><img\n    width=\"80%\"\n    src=\"https://raw.githubusercontent.com/laudebugs/blog-posts/main/assets/_/expression-changed-after-checked.png\"\n/></p>\n</div>\n\n<p>The reason for this particular case is that angular has detected that we have changed the variable after it was last checked when the dynamically created component&#39;s view was initialized.</p>\n<p>Some ways to resolve this is to move our code into the <code>ngAfterContentInit</code> life cycle hook or injecting the change detector (<code>ChangeDetectorRef</code>) and calling its <code>detectChanges()</code> method:</p>\n<ol>\n<li><p><code>ngAfterContentInit</code></p>\n<pre><code class=\"language-ts\">// code ommitted\nexport class HomeComponent implements AfterContentInit {\n\n    /* Implement the AfterContentInit life cycle hook */\n    ngAfterContentInit() {\n        /* Create the component */\n        const movieComponent = this.viewContainerRef.createComponent&lt;MovieComponent&gt;(MovieComponent)\n\n        /* Pass data to the dynamically created component here. */\n        movieComponent.instance.movie = MOVIES[0]\n    }\n}\n</code></pre>\n</li>\n<li><p>using the <code>ChangeDetectorRef</code></p>\n<pre><code class=\"language-ts\">// code ommitted\nexport class HomeComponent implements AfterViewInit {\n    /* Inject the ChangeDetectorRef */\n    constructor(private cd: ChangeDetectorRef, private viewContainerRef: ViewContainerRef) {}\n\n    ngAfterViewInit() {\n        /* Create the component */\n        const movieComponent = this.viewContainerRef.createComponent&lt;MovieComponent&gt;(MovieComponent)\n\n        /* Pass data to the dynamically created component here. */\n        movieComponent.instance.movie = MOVIES[0]\n\n        /*  Tell angular to check for changes */\n        this.cd.detectChanges()\n    }\n}\n</code></pre>\n</li>\n</ol>\n<p>The <code>ViewContainerRef</code> also provides a way to inject dependencies into our dynamically created component in the options object (<a href=\"https://angular.io/api/core/ViewContainerRef#createcomponent\">the optional second parameter of the <code>createComponent</code> method</a>). The options object contains the following extra parameters (quoted from the Angular docs):</p>\n<ul>\n<li><code>index</code> - the index at which to insert the new components host view</li>\n<li><code>injector</code> - the injector to use as the parent for the new component</li>\n<li><code>ngModuleRef</code> - an ngModuleRef of the component&#39;s <code>NgModule</code></li>\n<li><code>projectableNodes</code> - list of Dom nodes that should be projected though <code>ng-content</code></li>\n</ul>\n<p>Things begin to get a little more interesting as we explore this options object and how it expands our flexibility with dynamically created components. We&#39;ll explore the first two for now (<code>index</code> and <code>injector</code>).</p>\n<h3 id=\"index\"><code>index</code></h3>\n<p>The <code>index</code> parameter allows us to insert a dynamically created component at a particular index. Say we would like to create a second component dynamically and place it at index <code>0</code>, then we would do something like:</p>\n<pre><code class=\"language-ts\">const movieComponent2 = viewContainerRef.createComponent&lt;MovieComponent&gt;(MovieComponent, { index: 0 })\n</code></pre>\n<p>Of course, we can&#39;t place an element at index <code>1</code> if the length of dynamically created components in the <code>ViewContainerRef</code> is <code>0</code>.</p>\n<h3 id=\"injector\"><code>injector</code></h3>\n<p>We can inject dependencies into our dynamic components using the <code>injector</code> parameter.</p>\n<p>Say, for instance, we want to pass in the movie when we create the component. We can first create an injector token that we can pass in for the movie dependency:</p>\n<pre><code class=\"language-ts\">import { InjectionToken } from &#39;@angular/core&#39;\n\nexport const MOVIE_TOKEN = new InjectionToken&lt;string&gt;(&#39;movie&#39;)\n</code></pre>\n<p>In our <code>movie.component.ts</code> file, we can then pass this dependency as a required dependency, or mark it as an optional dependency in the constructor - if you want to:</p>\n<pre><code class=\"language-ts\">// In movie.component.ts\nconstructor(@Inject(MOVIE_TOKEN) public movie: IMovie) {}\n\n// As an optional dependency\nconstructor(@Inject(MOVIE_TOKEN) @Optional() public movie: IMovie) {}\n</code></pre>\n<p>In our app.component.ts, we would then create an injector and pass it to our component when we create it. Firstly, we provide our token and pass in the value that we would like to be available to the dynamically created component.</p>\n<pre><code class=\"language-ts\">// ... code ommitted\nexport class HomeComponent extends AfterViewInit {\n    constructor(public parentInjector: Injector) {}\n    // code ommited\n    ngAfterViewInit() {\n        /* Create the injector to be passed to the component and provide the value */\n        const injector = Injector.create({\n            providers: [{ provide: MOVIE_TOKEN, useValue: MOVIES[0] }],\n            parent: this.parentInjector,\n        })\n\n        /* Create the component with the injector passed in */\n        const movieComponent = viewContainerRef.createComponent&lt;MovieComponent&gt;(MovieComponent, {\n            index: 0,\n            injector,\n        })\n    }\n}\n</code></pre>\n<Aside>\n\n<p>It&#39;s interesting to point out that marking the dependency as optional (using the <code>@Optional()</code> decorator) means that we can leave it out when creating the dynamic component. Otherwise, we would run into a null injector error when we call <code>createComponent</code> (<code>R3InjectorError</code>):</p>\n<div style={{display: 'flex', justifyContent: 'center'}}>\n\n<img width=\"80%\" src=\"https://raw.githubusercontent.com/laudebugs/blog-posts/main/assets/_/null-injector-token.png\" />\n\n</div>\n\n</Aside>\n\n<h2 id=\"noteworthy\">Noteworthy</h2>\n<p>In previous versions of Angular, Dynamically created components had to be added to the <code>entryComponents</code> of the <code>NgModule</code> in which they are to be imported. With Ivy, this is no longer a requirement and they can be imported the same way as other components. <a href=\"https://angular.io/guide/deprecations#entrycomponents-and-analyze_for_entry_components-no-longer-required\">You can read more about it here.</a></p>\n<h2 id=\"recap\">Recap</h2>\n<p>However you decide to choose where to anchor your components, all these ways are valid and can go far in and of themselves. One advantage of dynamically generating the component using the <code>ViewContainerRef</code> is that you have access to the current state of the newly created component and can leverage it for your particular use case.</p>\n<h1 id=\"ngcomponentoutlet\"><code>NgComponentOutlet</code></h1>\n<p>The <code>NgComponentOutlet</code> directive provides a “declarative approach for dynamic component creation” (<a href=\"https://angular.io/api/common/NgComponentOutlet#ngcomponentoutlet\">quoted from the Angular docs</a>). Here, the documentation is pretty clear on how to use this directive to dynamically create a component.</p>\n<Aside>\n\n<p>The example code can be found in the <a href=\"https://stackblitz.com/edit/angular-ivy-lzyecr\">stackblitz here.</a></p>\n</Aside>\n\n<h2 id=\"resources-and-links\">Resources and Links</h2>\n<ul>\n<li><a href=\"https://angular.io/guide/dynamic-component-loader\">Dynamic component loader</a></li>\n<li><a href=\"https://angular.io/api/core/ViewContainerRef\">ViewContainerRef</a></li>\n<li><a href=\"https://angular.io/api/common/NgComponentOutlet#ngcomponentoutlet\">NgComponentOutlet</a></li>\n<li><a href=\"https://angular.io/api/core/QueryList\">QueryList</a></li>\n<li><a href=\"https://stackblitz.com/edit/angular-ivy-lzyecr\">Stackblitz example on Dynamic Components</a></li>\n<li><a href=\"https://github.com/laudebugs/dynamic-components-angular/wiki/Movie-Data\">GitHub repository to run locally</a></li>\n</ul>\n",
        "no": 23,
        "lastModified": "Sun Apr 02 2023"
    },
    {
        "title": "Implementation of GraphQL subscriptions on React Native using Apollo Client with a Lambda GrahphQL Server",
        "publishedOn": "2022-01-24",
        "author": "Laurence Ininda",
        "slug": "graphql-subs-with-aws-lambda-and-apollo-client",
        "tags": ["graphql", "aws lambda", "apollo"],
        "type": "dev",
        "image": "https://raw.githubusercontent.com/laudebugs/blog-posts/main/assets/graphql-subs-with-aws-lambda-and-apollo-client.jpeg",
        "summary": "A simple walkthrough on how to use AWS Apollo links with the Apollo GraphQL client on a React Native project",
        "imageCredit": "Photo by <a href=\"https://unsplash.com/@timmossholder?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText\">Tim Mossholder</a> on <a href=\"https://unsplash.com/s/photos/connection?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText\">Unsplash</a>",
        "date": "2022-01-24T00:00:00.000Z",
        "content": "<p>GraphQL queries and mutations to an AWS Lambda GraphQL api can be achieved by implementing libraries such as <a href=\"https://www.apollographql.com/docs/react/get-started/\">Apollo Client</a>.\nHowever, implementing subscriptions isn&#39;t as straight forward since the <a href=\"https://stackoverflow.com/questions/53734213/apollo-server-lambda-subscriptions#:~:text=GraphQL%20subscriptions%20are%20not%20supported,which%20kills%20the%20websocket%20connection.\">AWS Lambda is a serverless architecture.</a>\nImplementing subscriptions can be done <a href=\"https://docs.aws.amazon.com/appsync/latest/devguide/real-time-websocket-client.html#appsynclong-real-time-websocket-client-implementation-guide-for-graphql-subscriptions\">following the AWS implementation docs</a> - although we don&#39;t want to go into that rabbit hole as well as the option of using <a href=\"https://docs.amplify.aws/lib/q/platform/js/\">AWS&#39; Amplify JavaScript Libraries</a>.</p>\n<blockquote>\n<p>In our case, we would like to take advantage of <a href=\"https://www.apollographql.com/docs/react/why-apollo/\">Apollo Client&#39;s</a> apis that offer useful features within a react application such as hooks, caching, and also since it&#39;s simpler (one can argue). 💁</p>\n</blockquote>\n<h2 id=\"setup\">Setup</h2>\n<p>To get started, working with queries and mutations can be achieved by following <a href=\"https://www.apollographql.com/docs/react/get-started/\">Apollo&#39;s documentation.</a>. Where it get&#39;s interesting is once a subscription is needed to be made by the client.</p>\n<p>First, we need to configure our Apollo client to <a href=\"https://github.com/awslabs/aws-mobile-appsync-sdk-js#aws-appsync-links-for-apollo-v3\">make use of the Apollo links to connect to the AppSync api</a>. These are: <code>aws-appsync-auth-link</code> and <code>aws-appsync-subscription-link</code>. The former provides authentication for the Apollo client to connect to the api while the later provides the subscription tooling that AWS Lambdas need to work with subscriptions, which <a href=\"https://docs.aws.amazon.com/appsync/latest/devguide/real-time-websocket-client.html#appsynclong-real-time-websocket-client-implementation-guide-for-graphql-subscriptions\">we would have otherwise needed to implement ourselves</a>.🤢</p>\n<p>The example provided in <a href=\"https://github.com/awslabs/aws-mobile-appsync-sdk-js#using-authorization-and-subscription-links-with-apollo-client-v3-no-offline-support\">the docs here</a> is pretty straightforward.\nIn our case, the <code>auth</code> provided to the Apollo links would look like:</p>\n<pre><code class=\"language-ts\">const auth = {\n  type: &#39;OPENID_CONNECT&#39;\n  jwtToken: async () =&gt; token, // Required when you use Cognito UserPools OR OpenID Connect. token object is obtained previously\n};\n</code></pre>\n<p>Although, the only thing to note is that, since we need to provide a token to the client, we just pass in our token that retrieves the most current Open ID JWT to pass to our requests.</p>\n<p>Thus:</p>\n<pre><code class=\"language-ts\">const link = ApolloLink.from([\n    createAuthLink({\n        url: API_URL,\n        region: AWS_REGION,\n        auth: { type: &#39;OPENID_CONNECT&#39;, jwtToken: async () =&gt; await getToken() },\n    }),\n    createSubscriptionHandshakeLink(\n        { url: API_URL, region: AWS_REGION, auth: { type: &#39;OPENID_CONNECT&#39;, jwtToken: async () =&gt; await getToken() } },\n        httpLink,\n    ),\n])\n</code></pre>\n<p>This workaround was noted <a href=\"https://github.com/aws-amplify/amplify-js/issues/992\">in this issue on Github.</a></p>\n<h2 id=\"issues\">Issues</h2>\n<ul>\n<li><h4 id=\"unable-to-resolve-module-buffer\">Unable to resolve module <code>buffer</code>:</h4>\n&lt;img width={&#39;100%&#39;} alt=&quot;Screen Shot 2022-01-24 at 4 57 07 PM&quot; src=&quot;<a href=\"https://user-images.githubusercontent.com/25782070/150878930-80928c4c-0e1e-421b-8314-3c1c580ebf97.png&quot;/&gt;\">https://user-images.githubusercontent.com/25782070/150878930-80928c4c-0e1e-421b-8314-3c1c580ebf97.png&quot;/&gt;</a></li>\n</ul>\n<p>This can be solved by installing <code>buffer</code> and adding it to to the <code>App.tsx</code> file as noted in <a href=\"https://stackoverflow.com/questions/55226768/error-unable-to-resolve-module-buffer-react-native\">here on Stack overflow</a>.</p>\n<pre><code class=\"language-ts\">import { Buffer } from &#39;buffer&#39;;\n\nglobal.Buffer = Buffer;\n</code></pre>\n<h2 id=\"links\">Links</h2>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/62502579/appsync-subscriptions-with-apolloclient-in-react\">AppSync subscriptions with ApolloClient in React</a></li>\n<li><a href=\"https://github.com/awslabs/aws-mobile-appsync-sdk-js#using-authorization-and-subscription-links-with-apollo-client-v3-no-offline-support\">Using Authorization and Subscription links with Apollo Client V3 (No offline support)</a></li>\n<li><a href=\"https://docs.aws.amazon.com/appsync/latest/devguide/real-time-websocket-client.html#appsynclong-real-time-websocket-client-implementation-guide-for-graphql-subscriptions\">Building a real-time WebSocket client</a></li>\n</ul>\n",
        "no": 22,
        "lastModified": "Tue Jan 25 2022"
    },
    {
        "title": "Six Months at the Job",
        "publishedOn": "2021-12-12",
        "author": "Laurence Ininda",
        "summary": "It has been quite the ride so far this past several months at a new position. But there are always somethings to take away from my experience as the year winds down. Here are some few thoughts.",
        "slug": "six-mois-au-travail",
        "tags": ["work", "career", "coffee"],
        "type": "journal",
        "image": "https://raw.githubusercontent.com/laudebugs/blog-posts/main/assets/six-mois-au-travail.jpeg",
        "imageDescription": "",
        "imageCredit": "Photo by <a href=\"https://unsplash.com/@teckhonc?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText\">T.H. Chia</a> on <a href=\"https://unsplash.com/s/photos/unique?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText\">Unsplash</a>",
        "imageOriginalUrl": "https://unsplash.com/photos/2VETuPPL4wM",
        "date": "2021-12-12T00:00:00.000Z",
        "content": "<p>My eyes crack open with fatigue weighing down on them. It&#39;s 8.34 am. I slept through the alarm - or I forgot to set an alarm - or I trusted my body to wake itself before the stand-up. Either way, my sleep over the past weeks has become much more routinely irregular. </p>\n<p>I power on my machine, perhaps spending a minute or two to get my cold brew, swivel on my chair and listen. There&#39;s always someone running the show, and I turn on my editor back to where I&#39;d left over the previous day. </p>\n<p>I&#39;m definitely late for that meeting and assemble my thoughts before I&#39;m picked on to give an update. A few Uhhms as I open my pending PRs. &quot;Working on [this and that]&quot; I say - but If I were really stretching myself I could&#39;ve finished all the work for this sprint in a day or two. I like the &quot;corporate&quot; nature of work sometimes - but I know there&#39;s a temptation to sink into the benignness of getting assigned tasks - and being expected to get into the routine of delivering things on certain timelines. That predictability of what I do at work I have found frustrating - so during my free time, I&#39;ve spent my evenings and nights shipping something of my own - without timelines, without well-known requirements - chipping away at a project one google search after another - since my four year degree taught me how to google somewhat well enough so far. </p>\n<p>And yet - I know there&#39;s plenty of things to learn at times it has felt overwhelming - so I&#39;ve used the projects I&#39;ve been involved in as a guide to learning something new - because it&#39;s not how much I know about something that&#39;s been helpful but rather being flexible and ready to learn. So sometimes I tell my PM or Scrum Master that the implementation doesn&#39;t matter because it&#39;s a learning opportunity for me. I think that&#39;s important for my curiosity - or I&#39;ll get bored changing margins and font-sizes.</p>\n<p>I worked from my bed, from my closet, from my kitchen, from the train, from the airport. This thing I do - isn&#39;t work anymore - at least not in the traditional sense that I&#39;ve seen it. Perhaps it&#39;s the whole work from anywhere that&#39;s erased the boundaries. </p>\n<p>In a sense - there&#39;s always this dance to play — between staying curious and contributing to a vision - even in the smallest of ways. Or else we&#39;d be all trying to get our own things done and not achieve as much as we could together.</p>\n",
        "no": 21,
        "lastModified": "Sun Dec 12 2021"
    },
    {
        "title": "Organizing Codebases with Automation Tools",
        "publishedOn": "2021-11-17",
        "author": "Laurence Ininda",
        "summary": "JavaScript or TypeScript codebases can be a hustle to manage. Some people like their spacebars a lot more than their tabs; How can we track changes effectively on each commit? Or how can we automate versioning? We all can do with some standards in our codebase that allow us to keep track of what's going on in them.",
        "slug": "organizing-codebases-js",
        "tags": ["guides", "eslint", "prettier", "commitlint", "commitizen", "husky", "automation", "standard version"],
        "type": "dev",
        "image": "https://raw.githubusercontent.com/laudebugs/blog-posts/main/assets/organizing-codebases-js.jpeg",
        "imageCredit": "Photo by <a href=\"https://unsplash.com/@maxvdo\">Birmingham Museums Trust</a> on <a href=\"https://unsplash.com/photos/MZ0zABL7Bwo\">Unsplash</a>",
        "imageOriginalUrl": "https://unsplash.com/photos/MZ0zABL7Bwo",
        "date": "2021-11-17T00:00:00.000Z",
        "content": "<Aside>\n  Over the past couple of months, shuffling between different projects, and also work, I found it particularly useful to have some standard\n  way to organize a codebase - even if each of the projects differed in some way or another. This little guide is what I come back to\n  whenever I'm scaffolding a new project.\n</Aside>\n\n<br />\n\n<h2 id=\"tools-mentioned-in-this-guide\">Tools Mentioned in this guide</h2>\n<ul>\n<li><a href=\"https://typicode.github.io/husky/#/\">Husky</a></li>\n<li><a href=\"https://prettier.io/\">Prettier</a></li>\n<li><a href=\"https://eslint.org/\">Eslint</a></li>\n<li><a href=\"https://www.npmjs.com/package/@commitlint/cli\">Commitlint</a></li>\n<li><a href=\"https://www.npmjs.com/package/commitizen\">Commitizen</a></li>\n<li><a href=\"https://www.npmjs.com/package/standard-version\">Standard Version</a></li>\n</ul>\n<h3 id=\"husky\"><a href=\"https://typicode.github.io/husky/#/\">Husky</a></h3>\n<p>Husky is used to make our commits more cool, and powerful to help development easier. In this guide, husky will be used to format both the files (source code) and commits themselves before they are executed (thus &quot;pre&quot; in the pre-commit hooks).</p>\n<p><a href=\"https://typicode.github.io/husky/#/\">Read more here.</a></p>\n<ul>\n<li><p><a href=\"https://typicode.github.io/husky/#/?id=automatic-recommended\">Initialize Husky:</a></p>\n<pre><code class=\"language-bash\"># install husky\nnpm install -D husky\n\n# initialize\nnpx husky-init\n</code></pre>\n</li>\n</ul>\n<h2 id=\"prettier--eslint\">Prettier &amp; EsLint</h2>\n<p>If we would like to have our commits automatically format our code on every commit - to ensure that the codebase follows a specified standard, defined in the <code>prettierrc</code> file, then this is a handy tool to have.</p>\n<ol>\n<li><p>Add Prettier and eslint to your project:</p>\n<pre><code class=\"language-bash\"># prettier\nnpm install -D prettier\n\n# eslint\nnpm install -D eslint\n</code></pre>\n</li>\n<li><p>Add a prettier <a href=\"https://prettier.io/docs/en/configuration.html\">config file</a> to the repository - named <code>.prettierrc.json</code> (or following the <a href=\"https://prettier.io/docs/en/configuration.html\">specified format</a> for configuration files:</p>\n<pre><code class=\"language-json\">{\n  &quot;trailingComma&quot;: &quot;all&quot;,\n  &quot;tabWidth&quot;: 4,\n  &quot;semi&quot;: false,\n  &quot;singleQuote&quot;: true\n  //more rules below\n}\n</code></pre>\n</li>\n<li><p>Initialize EsLint:</p>\n<pre><code class=\"language-bash\">npx eslint --init\n</code></pre>\n</li>\n<li><p>Set up ESLint to work with prettier</p>\n<p>Add prettier plugin to the eslint configuration file:</p>\n<pre><code class=\"language-json\">// .eslintrc.json\n{\n  &quot;extends&quot;: [\n    // other extensions,\n    &quot;prettier&quot;\n  ]\n}\n</code></pre>\n<p>Now, you can specify prettier rules to work with your linter and not have both ESLint and Prettier enforcing different styles</p>\n</li>\n<li><p>Add <a href=\"https://prettier.io/docs/en/precommit.html#option-2-pretty-quickhttpsgithubcomazzpretty-quick\">Prettier Pre-commit Hook</a>:</p>\n<pre><code class=\"language-bash\">npm install -D pretty-quick\n\nnpx husky set ./husky/pre-commit &quot;npx pretty-quick --staged&quot;\n</code></pre>\n</li>\n</ol>\n<blockquote>\n<p>There are more ways to configure your prettier pre-commit hooks <a href=\"https://prettier.io/docs/en/precommit.html#docsNav\">found here</a>.</p>\n</blockquote>\n<h2 id=\"commitlint--commitlint-hooks\"><a href=\"https://github.com/conventional-changelog/commitlint\">CommitLint</a> &amp; CommitLint Hooks</h2>\n<p>Commitlint is a tool that lints commits - and make sure they are up to standard.\nWe will also add a husky pre-commit hook that lints our commit messages</p>\n<ol>\n<li><p><a href=\"https://github.com/conventional-changelog/commitlint#getting-started\">Install Commitlint</a></p>\n<pre><code class=\"language-bash\">npm install -D @commitlint/config-conventional @commitlint/cli\n\n# Configure commitlint to use conventional config\necho &quot;module.exports = {extends: [&#39;@commitlint/config-conventional&#39;]}&quot; &gt; commitlint.config.js\n</code></pre>\n</li>\n<li><p>. Add the commitlint hooks:</p>\n<pre><code class=\"language-bash\"># Add hook\nnpx husky add .husky/commit-msg &#39;npx --no -- commitlint --edit &quot;$1&quot;&#39;\n</code></pre>\n</li>\n<li><p>Add a husky pre-commit hook config to the package.json</p>\n<pre><code class=\"language-json\">&quot;husky&quot;: {\n  &quot;hooks&quot;: {\n    &quot;prepare-commit-msg&quot;: &quot;exec &lt; /dev/tty &amp;&amp; git cz --hook || true&quot;\n  }\n}\n</code></pre>\n</li>\n</ol>\n<h2 id=\"commitizen\"><a href=\"https://github.com/commitizen/cz-cli\">Commitizen</a></h2>\n<p>Commitizen is a command line interface tool that can be helpful in making commits a pretty-forward process following your linting rules.</p>\n<ol>\n<li><p>Install the tool</p>\n<pre><code class=\"language-bash\">npm install -D commitizen\n</code></pre>\n</li>\n<li><p>Add a script to the package.json to easily run commitizen:</p>\n<pre><code class=\"language-json\">{\n    &quot;scripts&quot;: {\n      &quot;commit&quot;: &quot;cz&quot;\n    }\n}\n</code></pre>\n<p>An Example use:</p>\n</li>\n</ol>\n<p><img\n  src=\"https://raw.githubusercontent.com/MechanicalHuman/hnp-utilities/master/packages/commitizen-adapter/hero.png\"\n  width=\"100%\"\n/></p>\n<p><a href=\"https://www.npmjs.com/package/@hnp/cz/v/1.0.7\">source</a></p>\n<Note>\nYou can customize the fields available in your commitizen CLI by <a href=\"https://medium.com/vlad-arbatov/development-how-to-adapt-a-custom-conventional-changelog-33ff3b13c832\"> following this guide</a>.\n</Note>\n\n<h2 id=\"conventional-changelog\">Conventional Changelog</h2>\n<p>This will assist in generating changelogs automatically from commits:</p>\n<ol>\n<li>Initialize:<pre><code class=\"language-bash\">npx commitizen init cz-conventional-changelog -D --save-exac\n</code></pre>\n</li>\n</ol>\n<h2 id=\"versioning-and-release\">Versioning and Release</h2>\n<p>We can use <a href=\"https://github.com/conventional-changelog/standard-version#standard-version\">Standard Version</a> to automatically generate versions for out projects.</p>\n<ol>\n<li><p>Install Standard Version</p>\n<pre><code class=\"language-bash\">npm install -D standard-version\n</code></pre>\n</li>\n<li><p>Add scripts to easily run releases and generate changelogs automaticallly:</p>\n<pre><code class=\"language-json\">{\n  &quot;scripts&quot;: {\n    &quot;release&quot;: &quot;standard-version&quot;\n  }\n}\n</code></pre>\n<p>Another option to Standard version is <a href=\"https://github.com/semantic-release/semantic-release\"><code>semantic-release</code></a></p>\n</li>\n</ol>\n<p>You can now run your first release by:</p>\n<pre><code class=\"language-bash\">npm run release\n</code></pre>\n<blockquote>\n<p>Plug: Here is an example of a <a href=\"https://www.laudebugs.me/changelog\">changelog for my website</a>.</p>\n</blockquote>\n<p>If you create a release - then you can push that release by running:</p>\n<pre><code class=\"language-bash\">git push --follow-tags\n</code></pre>\n<hr />\n\n<h2 id=\"update-25th-feb-2022\">Update (25th Feb 2022)</h2>\n<p>I ended up writing a simple npm package to automate setting this whole process up for new projects\nYou can find the package <a href=\"https://www.npmjs.com/package/organize-codebase\">here</a>.</p>\n<h2 id=\"references--resources\">References &amp; Resources</h2>\n<h3 id=\"articles\">Articles</h3>\n<ul>\n<li><a href=\"https://blog.logrocket.com/never-guess-about-project-history-again-31f65091f668/\">How to control your deployments and versioning with semantic-release &amp; friends</a>- (logrocket)</li>\n<li><a href=\"https://dev.to/migu3l/commit-standard-and-semantic-versioning-for-any-project-1ihc\">Commit Standard and Semantic Versioning for any project</a> - (dev)</li>\n<li><a href=\"https://medium.com/@jsilvax/automate-semantic-versioning-with-conventional-commits-d76a9f45f2fa\">Automate Semantic Versioning with Conventional Commits </a>(medium)</li>\n<li><a href=\"https://blog.logrocket.com/automatically-generate-and-release-a-changelog-with-node-js/\">Automatically generate and release a changelog using Node.js</a> (logrocket)</li>\n<li><a href=\"https://medium.com/vlad-arbatov/development-how-to-adapt-a-custom-conventional-changelog-33ff3b13c832\">Development: How to adapt a custom conventional changelog</a> (medium)</li>\n<li><a href=\"https://dev.to/sohandutta/make-everyone-in-your-project-write-beautiful-commit-messages-using-commitlint-and-commitizen-1amn\">Make everyone in your project write beautiful commit messages using commitlint and commitizen</a> - loved this one!</li>\n</ul>\n<h3 id=\"documentation\">Documentation</h3>\n<ul>\n<li><a href=\"https://typicode.github.io/husky/#/\">Husky</a></li>\n<li><a href=\"https://eslint.org/docs/user-guide/getting-started\">ESLint - Getting started</a></li>\n<li><a href=\"https://prettier.io/docs/en/precommit.html#docsNav\">Prettier - Pre-Commit Hooks</a></li>\n<li><a href=\"https://github.com/commitizen/cz-cli\">Commitizen</a></li>\n<li><a href=\"https://github.com/conventional-changelog/commitlint#getting-started\">Commitlint</a></li>\n<li><a href=\"https://github.com/conventional-changelog/standard-version#standard-version\">Conventional Changelog</a></li>\n<li><a href=\"https://github.com/semantic-release/semantic-release\">Semantic Release</a></li>\n</ul>\n<h3 id=\"other-useful-links\">Other Useful Links</h3>\n<ul>\n<li><a href=\"https://gitmoji.dev/\">Gitmoji</a></li>\n</ul>\n",
        "no": 20,
        "lastModified": "Sat Feb 26 2022"
    },
    {
        "title": "Endings",
        "publishedOn": "2021-11-03",
        "author": "Laurence Ininda",
        "summary": "And it's almost as if I left through the back door. The sense of escaping what I knew to be how things were supposed to end. How are things supposed to end?",
        "slug": "endings",
        "tags": ["archive", "college"],
        "type": "journal",
        "imageCaption": "Solva (Fishing Village in Pembrokeshire), 1936 by Frances Hodgkins (d. 1947)",
        "imageCredit": "Photo by <a href=\"https://unsplash.com/@birminghammuseumstrust?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText\">Birmingham Museums Trust</a> on <a href=\"https://unsplash.com/s/photos/generative-art?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText\">Unsplash</a>",
        "imageOriginalUrl": "https://unsplash.com/photos/9pOXS0ZGPDM",
        "image": "https://raw.githubusercontent.com/laudebugs/blog-posts/main/assets/endings.jpeg",
        "date": "2021-11-03T00:00:00.000Z",
        "content": "<p>And it&#39;s almost as if I left through the back door.\nThe sense of escaping what I knew to be how things were supposed to end.\nHow are things supposed to end? With expectations forcing actions into predefined paths.\nOf all the ways that I imagined my four years of college turning out, I didn&#39;t think that they would turn out with me not graduating on time, with no job, and staying over at a friend&#39;s place for an extended period of time.\nThe overwhelming feeling last Spring after having finished the semester was the that of defeat.\nNow, as has been a couple of times before, it&#39;s more of indirection. What do I want to do in life, what kind of job do I want to pursue?</p>\n<p><small>From May, 2020</small></p>\n",
        "no": 19,
        "lastModified": "Mon Oct 17 2022"
    },
    {
        "title": "Dawn",
        "publishedOn": "2021-03-08",
        "author": "Laurence Ininda",
        "summary": "I turn the faucet all the way to the right for the last few seconds of my shower – a ritual I have taken up this past winter. The practice reminds me of high school when I didn't have the luxury of steamy personal bathrooms but rather run-down swaths of stalls – some of which didn't work entirely.",
        "slug": "dawn",
        "tags": ["mornings", "past", "future", "winter"],
        "type": "journal",
        "image": "https://raw.githubusercontent.com/laudebugs/blog-posts/main/assets/dawn.jpeg",
        "date": "2021-03-08T00:00:00.000Z",
        "content": "<p>I turn the faucet all the way to the right for the last few seconds of my shower – a ritual I have taken up this past winter. The practice reminds me of high school when I didn&#39;t have the luxury of steamy personal bathrooms but rather run-down swaths of stalls – some of which didn&#39;t work entirely. Toward the end of my junior year, we were lucky to have one or two of the stalls installed with running hot water – but even with the option to take a hot shower in the morning, I at times preferred the chilling water to awaken myself to a new day.</p>\n<p>Of all the past winters I&#39;ve experienced, this past winter was also a time when I was trying to figure out my career, my faith, writing, family, friends and more. Most of that is still work in progress – I&#39;m writing again – which I&#39;m happy about. The opportunity intern at Antra, a consulting company, has been a process of learning. I recently also became a daily coffee drinker which I didn&#39;t ever see coming. I still convince a part of myself that it&#39;s not an addiction.</p>\n<p>At the beginning of this very past winter, the was a kind of longing that hung in the air as I moved back to New York. This longing was for the certain past – the good and the bad as well as the future – always a time to look forward to and hope. This longing was at times deep and frustrating and at other times faded amidst the daily rhythms and rituals. Past victories and failures are both in themselves alluring. The former because I can easily hold them too close and close my eyes to what lays before me, now. The latter because I can also easily jump back right into them and stimy any progress I made to learn from my mistakes. However, the most attractive thing about the past is that the past has a certainty to it – it&#39;s complete and bound up in itself. How I badly wanted that – the certainty that the past could offer.</p>\n<p>The future holds hope as an appeal. Often at times I tend to want to feed into that hope now – by doing what I can to make the future become the present. At times I don&#39;t want to wait – why wait for something so deeply attractive as a future. The risk here is, I think far more dangerous because I may then become frustrated and dissatisfied with the work I need to do to get there. The work needed to get there remains very much so in the present. I am writing all this as a reminder to myself that the living part is very much in the now.</p>\n<p>As a side note, I&#39;ve also been trying new recipes. Although I have tried different recipes, my beef stew isn&#39;t quite there yet as last weekend I skipped the tomatoes and added too much water but managed to salvage a meal for my room mates.</p>\n<p>That&#39;s it for now, but I hope to share more in the future.</p>\n<p>Thank you for reading.</p>\n",
        "no": 18,
        "lastModified": "Mon Oct 17 2022"
    },
    {
        "title": "Using your GitHub Repository as a Database",
        "publishedOn": "2021-03-01",
        "author": "Laurence Inida",
        "summary": "You don't have to look far for somewhere to store your content. GitHub is a great place to store your content. Together with the GitHub API, you can use GitHub make this happen.",
        "slug": "using-your-github-repository-as-a-database",
        "tags": ["github", "api", "database"],
        "type": "dev",
        "image": "https://raw.githubusercontent.com/laudebugs/blog-posts/main/assets/using-your-github-repository-as-a-database.webp",
        "date": "2021-03-01T00:00:00.000Z",
        "content": "<h1 id=\"how-to-use-your-repo-as-a-database-with-the-github-graphql-api\">How To: Use your Repo as a Database with the Github GraphQL API</h1>\n<Aside>\nYou can sort of use your Github repository as a database for your blog posts by leveraging the Github <a href=\"https://docs.github.com/en/graphql\">Graph QL API</a> 😱.\n</Aside>\n\n<h2 id=\"motivation\">Motivation</h2>\n<p>The Github GraphQL API provides a lot more capabilities than I can cover in one <em>snack</em>.</p>\n<p>However, in searching for a way to share the small lessons that I pick up week in week out, I knew that publishing through <a href=\"https://www.contentful.com/\">Contentful</a>, which it the CMS, I use for the main content in my blog site, was a little too much to share easily and quicly.\nPosting on Github and sharing that as <a href=\"https://gist.github.com/laudebugs\">gists</a> seemed like I would be writing too much for a gist that is supposed to be a short code snippet - which was the original title of this section. Although <a href=\"https://gist.github.com/MichaelCurrin/6777b91e6374cdb5662b64b8249070ea\">MichaelCurrin</a> proves me otherwise! His article is what got me goint in the first place!</p>\n<h2 id=\"querying-the-graphql-api-for-posts\">Querying the GraphQL API for posts.</h2>\n<p>In order to use the Github GraphQL API, you can either use the <a href=\"https://docs.github.com/en/graphql/overview/explorer\">API explorer</a> by logging in through your github account, use an api testing tool like <a href=\"https://support.insomnia.rest/article/61-graphql\">Insomnia</a>, or you can use it programmatically.</p>\n<p>Since I was using the Apollo Graph QL library to query my backend - that helps me manage comments and likes, I began to do a little research on how to query the Github GraphQL API. I will link the articles below.\nThis <a href=\"https://stackoverflow.com/questions/58576940/how-to-handle-authorization-header-with-apollo-graphql\">stack overflow</a> answered how to add an authorization header to an Apollo Client Query.</p>\n<h2 id=\"the-query\">The Query</h2>\n<p>We will be using writing our query in a node.js environment using both <a href=\"https://github.com/apollographql/apollo-client\">Apollo Client</a> and <a href=\"https://github.com/axios/axios\">Axios</a></p>\n<h3 id=\"1-obtain-your-github-public-access-token\">1. Obtain your github public access token</h3>\n<p>The only permission you need for this task is <code>public_repo</code> under <code>repo</code>:</p>\n<ul>\n<li><input disabled=\"\" type=\"checkbox\"> repo<ul>\n<li><input checked=\"\" disabled=\"\" type=\"checkbox\"> public_repo</li>\n</ul>\n</li>\n</ul>\n<p>Give your token a name and will look something like this:</p>\n<pre><code class=\"language-txt\">89fdd35bcd40787b519e97462cec0f9975a66a58\n</code></pre>\n<p>Note the token above is revoked and you&#39;ll need to generate yours. Once you&#39;re done, we&#39;re ready for the next step!</p>\n<h3 id=\"2-querying-the-repo\">2. Querying the repo</h3>\n<p>In my case, I will be looking for files in my repository called <code>articles</code>. If you&#39;d like to use your own repository, simply make note of your repository name.</p>\n<h3 id=\"using-the-apollo-client\">Using the Apollo Client</h3>\n<ol>\n<li><p>Install the Apollo client</p>\n<pre><code class=\"language-bash\">npm install @apollo/client graphql\n</code></pre>\n</li>\n<li><p>Working in your js file, import the Apollo client and a few methods that we will make use of:</p>\n<pre><code class=\"language-js\">import { ApolloClient, InMemoryCache, gql, ApolloLink, HttpLink } from &#39;@apollo/client&#39;\n</code></pre>\n</li>\n<li><p>Initialize a new apollo client with the github graphQL endpoint and your token</p>\n<pre><code class=\"language-js\">const token = &#39;89fdd35bcd40787b519e97462cec0f9975a66a58&#39;\n\nconst endpoint = &#39;https://api.github.com/graphql&#39;\n\n// Add the toke to the header of your client for all your requests\nconst githubLClient = new ApolloClient({\n  uri: endpoint,\n  headers: {\n    authorization: `Bearer ${token}`\n  },\n  cache: new InMemoryCache({\n    addTypename: false\n  })\n})\n</code></pre>\n</li>\n<li><p>Make the query\nI referenced github user <a href=\"https://gist.github.com/int128/b0e75e3043c8a33808cea0089d988ed3\">int128&#39;s gist</a> for the structure of the graphQl query:</p>\n<pre><code class=\"language-js\">let request = await githubClient.query({\n  query: gql`\n    {\n      repository(owner: &quot;laudebugs&quot;, name: &quot;articles&quot;) {\n        defaultBranchRef {\n          target {\n            ... on Commit {\n              file(path: &quot;/&quot;) {\n                type\n                object {\n                  ... on Tree {\n                    entries {\n                      name\n                      object {\n                        ... on Blob {\n                          text\n                        }\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  `\n})\n</code></pre>\n</li>\n<li><p>Parse your output to obtain the file&#39;s contents.\nBy making this same query on Github&#39;s GraphQL explorer, the data returned, which is essentially a json object, at the time of writing this, looks like this:</p>\n<pre><code class=\"language-json\">{\n  &quot;data&quot;: {\n    &quot;repository&quot;: {\n      &quot;defaultBranchRef&quot;: {\n        &quot;target&quot;: {\n          &quot;file&quot;: {\n            &quot;type&quot;: &quot;tree&quot;,\n            &quot;object&quot;: {\n              &quot;entries&quot;: [\n                {\n                  &quot;name&quot;: &quot;QraphQL.md&quot;,\n                  &quot;object&quot;: {\n                    &quot;text&quot;: &quot;# Exploring GraphQL\\n&quot;\n                  }\n                },\n                {\n                  &quot;name&quot;: &quot;README.md&quot;,\n                  &quot;object&quot;: {\n                    &quot;text&quot;: &quot;# Articles&quot;\n                  }\n                }\n              ]\n            }\n          }\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p>So, if to obtain the entries, we would access them by:</p>\n<pre><code class=\"language-js\">let result = request.data.repository.defaultBranchRef.target.file.type.object.entries\n</code></pre>\n</li>\n</ol>\n<h4 id=\"using-axios\">Using Axios</h4>\n<ol>\n<li><p>Install the <a href=\"https://github.com/axios/axios\">axios npm package</a></p>\n<pre><code class=\"language-bash\">npm install axios\n</code></pre>\n</li>\n<li><p>Import exios into your node project:</p>\n<pre><code class=\"language-js\">import axios from &#39;axios&#39;\n</code></pre>\n</li>\n<li><p>initialize an authentication object and the query string that will be attatched to your request</p>\n<pre><code class=\"language-js\">// The Authorization in the header of the request\nconst oauth = { Authorization: &#39;bearer &#39; + token }\n\n// The Query String\nconst query = `\n        {\n          repository(owner: &quot;laudebugs&quot;, name: &quot;articles&quot;) {\n            defaultBranchRef {\n              target {\n                ... on Commit {\n                  file(path: &quot;/&quot;) {\n                    type\n                    object {\n                      ... on Tree {\n                        entries {\n                          name\n                          object {\n                            ... on Blob {\n                              text\n                            }\n                          }\n                        }\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      `\n</code></pre>\n</li>\n<li><p>Make the request, adding in the query and the header</p>\n<pre><code class=\"language-js\">let request = axios.post(githubUrl, { query: query }, { headers: oauth })\n</code></pre>\n</li>\n<li><p>Parse your output as above:</p>\n<pre><code class=\"language-js\">let result = request.data.repository.defaultBranchRef.target.file.type.object.entries\n</code></pre>\n</li>\n</ol>\n<h2 id=\"referenced-articles\">Referenced articles</h2>\n<ul>\n<li><a href=\"https://gist.github.com/MichaelCurrin/6777b91e6374cdb5662b64b8249070ea\">Graph QL query</a> for getting files.</li>\n<li><a href=\"https://support.insomnia.rest/article/61-graphql\">GraphQL Queries using Insomnia</a></li>\n<li>How to create a personal access token from your github account: <a href=\"https://docs.github.com/en/github/authenticating-to-github/creating-a-personal-access-token\">Creating a personal access token</a></li>\n<li><a href=\"https://medium.com/risan/set-authorization-header-with-apollo-client-e934e6517ccf\">Set Authorization Header with Apollo Client</a></li>\n<li><a href=\"https://stackoverflow.com/questions/58576940/how-to-handle-authorization-header-with-apollo-graphql\">How to handle authorization header with apollo graphql? - Stack Overflow</a></li>\n<li><a href=\"https://dev.to/thomasaudo/get-started-with-github-grapql-api--1g8b\">Get started with GitHub GraphQL API 👨‍🔬</a> on Dev</li>\n</ul>\n",
        "no": 17,
        "lastModified": "Fri Jun 24 2022"
    },
    {
        "title": "How To: Build an Express GraphQL API in TypeScript",
        "publishedOn": "2021-02-23",
        "author": "Laurence Ininda",
        "summary": "Learn how to build a Node.js GraphQL API with Express and TypeScript",
        "slug": "build-graphql-api-in-typescript",
        "tags": ["express", "graphql", "typescript"],
        "type": "dev",
        "image": "https://raw.githubusercontent.com/laudebugs/blog-posts/main/assets/build-graphql-api-in-typescript.jpg",
        "date": "2021-02-23T00:00:00.000Z",
        "content": "<Aside>\nSo you wanna write a node GraphQL backend in TypeScript? Well, Let's put all the pieces together and begin.\n</Aside>\n\n<h2 id=\"initilizing-the-project\">Initilizing the project</h2>\n<p>We&#39;ll be working in a terminal - be it the standalone teminal - or the integrated terminal in your text editor.</p>\n<ol>\n<li><p>Initialize a repository in an empty folder, say, we call ours <code>express-gql-api</code>.:</p>\n<pre><code class=\"language-bash\">mkdir express-gql-api\n\n# enter the project folder\ncd express-gql-api\n</code></pre>\n</li>\n<li><p>Initialize the folder as a node and git project:</p>\n<pre><code class=\"language-bash\">npm init -y\n\ngit init\n</code></pre>\n</li>\n<li><p>Initialize a Readme\nHaving a Readme is essential for any project - this is the document people will see when they come across your repository in Github.</p>\n<br />\nWe'll start off with a simple description but feel free to add more information about your project as you go. ```bash echo '# Express GraphQLAPI\nin TypeScript' > Readme.md ```</li>\n<li><p>Initalize the source directory\nThis is where we will place our <code>.ts</code> files</p>\n<pre><code class=\"language-bash\">mkdir src\n</code></pre>\n</li>\n</ol>\n<h2 id=\"typescript-and-project-setup\">TypeScript and Project SetUp</h2>\n<p>TypeScript is usually compiled to JavaScript and which is the code that is actually run.\nAssuming you already have the <a href=\"https://www.typescriptlang.org/id/download\">TypeScript</a> installed, we will write the configuration file that tells the TypeScript compiler how to compile out files into JavaScript:</p>\n<ol>\n<li><p>Initialize a <code>tsconfig.json</code> file in your root directory from the terminal</p>\n<pre><code class=\"language-bash\">tsc --init\n</code></pre>\n</li>\n<li><p>. Working in the text editor, we will set the following compiler options:</p>\n<ol>\n<li><p><code>&quot;rootDir&quot;</code> - this is the directory where the TypeScript compiler will search for <code>.ts</code> files to compile into JavaScript. In our case, the root directory is the <code>src</code> folder:</p>\n<pre><code class=\"language-json\">{\n  &quot;compilerOptions&quot;: {\n    //...\n    &quot;rootDir&quot;: &quot;./src&quot;\n    //...\n  }\n}\n</code></pre>\n</li>\n<li><p><code>&quot;outDir&quot;</code> - this is the directory where the compiled JavaScript will be placed:\nIn our case, we will call our output directory <code>&quot;dist&quot;</code></p>\n<pre><code class=\"language-json\">{\n  &quot;compilerOptions&quot;: {\n    //...\n    &quot;rootDir&quot;: &quot;./src&quot;,\n    &quot;ourDir&quot;: &quot;./dist&quot;\n    //...\n  }\n}\n</code></pre>\n</li>\n</ol>\n</li>\n<li><p>Finally, we will edit the package.json file so that we have a smooth time running the project. Add the following line under script in <code>package.json</code>:</p>\n<pre><code class=\"language-json\">&quot;scripts&quot;:{\n  //...\n   &quot;start&quot; : &quot;nodemon dist/index.js&quot;,\n   //...\n}\n</code></pre>\n</li>\n</ol>\n<p>This is the basic setup that we need before we get started</p>\n<h2 id=\"setup\">SetUp</h2>\n<p>We will be working with a few packages that we need to install:</p>\n<ol>\n<li><a href=\"https://www.npmjs.com/package/express\"><code>express</code></a> - since we are buiding an express server</li>\n<li><a href=\"https://www.npmjs.com/package/express-graphql\"><code>express-graphql</code></a> - this is the express middleware that will allow us to build our graphQL endpoint</li>\n<li><a href=\"https://github.com/ardatan/graphql-tools#readme\"><code>graphql-tools</code></a> - A package that helps build the GraphQL Schema</li>\n<li><a href=\"https://www.npmjs.com/package/mongoose\"><code>mongoose</code></a> - The library that will allow us to connect to a MongoDB database</li>\n</ol>\n<p>Before we jump right into installing the packages, let&#39;s create a <code>.gitignore</code> file at the root folder and add <code>node_modules</code> so that git doesn&#39;t track npm packages:</p>\n<pre><code class=\"language-bash\">echo node_modules &gt; .gitignore\n</code></pre>\n<p>To install all the tools, we can do so in one command:</p>\n<pre><code class=\"language-bash\">npm install -s express express-graphql graphql-tools mongoose nodemon\n</code></pre>\n<p>Before we start writing some code, we need to have our TypeScript compiler running so that we can generate the JavaScript files as we go. So, in a separate window, run the typescript compiler with a watch flag:</p>\n<pre><code class=\"language-bash\">tsc -w\n</code></pre>\n<p>And now we are ready to build our api</p>\n<h2 id=\"the-api-🥑\">The API 🥑</h2>\n<p>Let&#39;s add some files to our file structure first:</p>\n<pre><code>📦express-gql-api\n┣ 📂src\n┣ 📜.gitignore\n┣ 📜Readme.md\n┣ 📜package.json\n┗ 📜tsconfig.json\n</code></pre>\n<p>However, let&#39;s add some files in the <code>src</code> folder first\nCreate an empty directory in the <code>src</code> folder called <code>data</code> - this is where we willl be placing out database connectors, types, schemas and resolver files.\nCreate the following files to match the following structure:</p>\n<pre><code>📦express-gql-api\n┣ 📂src\n┃ ┣ 📂data\n┃ ┃ ┣ 📜db.ts\n┃ ┃ ┣ 📜resolvers.ts\n┃ ┃ ┣ 📜schema.ts\n┃ ┃ ┗ 📜types.ts\n┃ ┗ 📜index.ts\n┣ 📜Readme.md\n┣ 📜package.json\n┗ 📜tsconfig.json\n</code></pre>\n<h3 id=\"schema-definition\">Schema Definition</h3>\n<p>GraphQL requires a schema to be defined. A schema what graphQL uses to know what type of data to expect.</p>\n<br />\nWe will define the schema in the `schema.ts` file in the following way: We will use our graphQL endpoint to create and query a user. So we need\nto define:\n\n<ul>\n<li><p>a <code>user</code> type</p>\n</li>\n<li><p>a <code>UserInput</code> input - that has the same structure as the <code>User</code> type</p>\n</li>\n<li><p>a <code>Query</code> type - where we will define all the queries</p>\n</li>\n<li><p>a <code>Mutation</code> type - where we will define the mutations</p>\n<pre><code class=\"language-ts\">import { resolvers } from &#39;./resolvers&#39;\nimport { makeExecutableSchema } from &#39;graphql-tools&#39;\n\nconst typeDefs = `\n    type User {\n      name: String\n      username: String\n    }\n    input UserInput {\n      name: String\n      username: String\n    }\n    type Query {\n      getUser(username: String): User\n    }\n    type Mutation{\n      createUser(user: UserInput): User\n    }\n  `\n// Build the schema and export\nconst schema = makeExecutableSchema({ typeDefs, resolvers })\nexport { schema }\n</code></pre>\n</li>\n</ul>\n<h3 id=\"definine-the-type---typets\">Definine the type - <code>type.ts</code></h3>\n<pre><code class=\"language-ts\">export class UserType {\n  constructor(public name: String, public username: String) {}\n}\n</code></pre>\n<h3 id=\"connecting-the-database\">Connecting the Database</h3>\n<h4 id=\"setting-up-the-mongodb-instance-🗄️\">Setting up the MongoDB instance 🗄️</h4>\n<p>Before we move into this step, we will need to first set up our database. One can do so by following this process:</p>\n<ol>\n<li>create a free MongoDB account <a href=\"https://account.mongodb.com/account/login\">here</a></li>\n<li>Create a <strong>free</strong> cluster.</li>\n<li>Once the cluster has been created, click <code>connect</code> to your cluster. Further instructions can be found <a href=\"https://docs.atlas.mongodb.com/connect-to-cluster/\">here</a></li>\n<li>You will need to add a connection IP address - typically your own IP for development locally</li>\n<li>create a database user with a username and password - You will need this to login to your database later</li>\n<li>Proceed to choosing a connection method - in our case we will use the <code>connect your application</code> option</li>\n<li>This will lead us to a page to select our driver and version - which in our case should be <code>Node.js</code> Version <code>3.6 or later</code>.</li>\n<li>Copy your connection string somewhere safe that you can edit. You will notice that the username is included in the connection string but you will need to replace the <code>&lt;password&gt;</code> with your password and also pick a name for our database\n{&#39; &#39;}<br />\nAssuming our username was `amani` with password `AEDPfTeq61WH04NL`, and we want our database to be called `bliss`, our connection string would\nlook like:</li>\n</ol>\n<pre><code class=\"language-txt\">mongodb+srv://amani:AEDPfTeq61WH04NL@cluster0.9ntf0.mongodb.net/bliss?retryWrites=true&amp;w=majority\n</code></pre>\n<ol start=\"9\">\n<li>Save this connection string somewhere where you can reference it later as we will need it when running our program.</li>\n</ol>\n<h4 id=\"connecting-to-the-database-programmatically---dbts\">Connecting to the Database programmatically - <code>db.ts</code></h4>\n<p>In the <code>db.js</code> file, we will import <code>mongoose</code> and then define a new schema for the database - in our case, the only schema we will need is the user schema.</p>\n<br />\nWe will then create a new mongoose model that will be exported for use to query the database. Notice that we have set the `connectionString`\nvariable to an environment variable - this is safer than pasting the connection string right into your code because it makes your database vulnerable.\nIn our case, will set the connection string to an environment varible when we are ready to run the application.\n\n<pre><code class=\"language-ts\">import mongoose from &#39;mongoose&#39;\nconst Schema = mongoose.Schema\n\n// @ts-ignore\nconst connectionString: String = process.env.MONGO_DB\n// @ts-ignore\nmongoose.connect(connectionString, {\n  useNewUrlParser: true,\n  useUnifiedTopology: true,\n  useFindAndModify: false,\n  useCreateIndex: true\n})\n\nconst UserSchema = new Schema({\n  name: String,\n  username: String\n})\n\nconst User = mongoose.model(&#39;User&#39;, UserSchema)\n\nexport { User }\n</code></pre>\n<h3 id=\"declaring-the-resolvers---resolversts\">Declaring the resolvers - <code>resolvers.ts</code></h3>\n<p>The resolvers are the functions that are run whenever the endpoint is run - so you need to define a function for each query and mutation as we will do below:</p>\n<pre><code class=\"language-ts\">import { UserType } from &#39;./types&#39;\n\n// import the User from the database\nimport { User } from &#39;./db&#39;\n\nexport const resolvers = {\n  Query: {\n    //@ts-ignore\n    getUser: (root, { username }) =&gt; {\n      return User.findOne({ username: username })\n        .then((user: UserType) =&gt; {\n          return user\n        })\n        .catch((error: any) =&gt; {\n          console.log(error.message)\n        })\n    }\n  },\n  Mutation: {\n    // @ts-ignore\n    createUser: async (root, { user }) =&gt; {\n      const newUser = new User({ name: user.name, username: user.username })\n      await newUser.save()\n      return newUser\n    }\n  }\n}\n</code></pre>\n<h2 id=\"piece-the-pie-together-🥧---indexts\">Piece the pie together 🥧 - <code>index.ts</code></h2>\n<p>Our <code>index.ts</code> file is where all the majic happens. We will begin by importing the necessary packages and instantiating a new express app. Then we will initialize the connection to the database and attach the <code>grapqlHTTP</code> middleware function with our schema and <code>graphiql</code> - which we can use to explore the api:</p>\n<pre><code class=\"language-ts\">import express from &#39;express&#39;\nimport { graphqlHTTP } from &#39;express-graphql&#39;\nimport { schema } from &#39;./data/schema&#39;\n\n// Initialize app\nconst app = express()\nrequire(&#39;./data/db&#39;)\n\n// the graphQL endpoint at /graphql.\napp.use(&#39;/graphql&#39;, graphqlHTTP({ schema: schema, graphiql: true }))\n\napp.get(&#39;*&#39;, (req, res) =&gt; {\n  res.json({ message: &#39;Welcome to the api&#39; })\n})\n\nconst PORT = 7000\napp.listen(PORT, () =&gt; {\n  console.log(`api is running on port ${PORT}`)\n})\n</code></pre>\n<h2 id=\"running-the-server\">Running the server</h2>\n<p>Before we run the server, we will need to add our mongoDB connection string to the environment variables:</p>\n<pre><code class=\"language-bash\">  export MONGO_DB=&#39;mongodb+srv://amani:AEDPfTeq61WH04NL@cluster0.9ntf0.mongodb.net/bliss?retryWrites=true&amp;w=majority&#39;\n</code></pre>\n<p>Now, we are ready to run the server 🚀</p>\n<pre><code class=\"language-bash\">  npm run start\n</code></pre>\n<p>And we can run the server and explore our api.\nHere&#39;s an example of a mutation that you can make with the api:</p>\n<h3 id=\"mutation\">Mutation</h3>\n<p>We can add a user by making a mutation on the api:</p>\n<pre><code class=\"language-txt\">  mutation createUser ($input:UserInput){\n    createUser(user:$input) {\n      name\n      username\n    }\n  }\n</code></pre>\n<p>We can then pass in the user input using the query variables:</p>\n<pre><code class=\"language-txt\">  {\n    &quot;input&quot;: {\n      &quot;name&quot;: &quot;Laurence&quot;,\n      &quot;username&quot;: &quot;laudebugs&quot;\n    }\n  }\n</code></pre>\n<p>Here&#39;s how the mutation looks like:</p>\n<p>&lt;img src={&#39;<a href=\"https://raw.githubusercontent.com/laudebugs/articles/main/resources/graphqlmutation.png&#39;%7D\">https://raw.githubusercontent.com/laudebugs/articles/main/resources/graphqlmutation.png&#39;}</a> width={&#39;100%&#39;} /&gt;</p>\n<h3 id=\"query\">Query</h3>\n<p>If we were to then ask the api for a certain user, we can make the query by:</p>\n<pre><code class=\"language-txt\">  query {\n    getUser (username:&quot;laudebugs&quot;){\n      name\n    }\n  }\n</code></pre>\n<p>You can check out the <a href=\"https://github.com/laudebugs/express-gql-api\">repo here</a></p>\n<h3 id=\"common-issues-that-you-may-run-into\">Common Issues that you may run into:</h3>\n<ol>\n<li><strong>IP isn&#39;t whitelisted</strong>: If you&#39;re running into this issue, it may be the case that your ip address has changed and you need to add your current IP to be able to connect.</li>\n<li><strong>Could not find a declaration file for &#39;express&#39;</strong>\nInstall the declaratio file for <code>express</code>:</li>\n</ol>\n<pre><code class=\"language-bash\">    npm install --save-dev express\n</code></pre>\n<h2 id=\"further-reading\">Further Reading</h2>\n<ul>\n<li><a href=\"https://medium.com/atheros/graphql-quick-tip-how-to-pass-variables-into-a-mutation-in-graphiql-23ecff4add57\">GraphQL quick tip: How to pass variables in GraphiQL</a></li>\n</ul>\n",
        "no": 16,
        "lastModified": "Fri Jun 24 2022"
    },
    {
        "title": "Bubbling",
        "publishedOn": "2021-01-17",
        "author": "Laurence Ininda",
        "summary": "In the dust there lays some sense of what was past, what was forgotten and what was lost. My feet sink into the particles as I grab onto what are my calloused toes from too much running away from something. I dare not look back – dare not tempt the shadows that I conquered.",
        "slug": "bubbling",
        "tags": ["faith"],
        "type": "journal",
        "image": "https://raw.githubusercontent.com/laudebugs/blog-posts/main/assets/bubbling.jpg",
        "date": "2021-01-17T00:00:00.000Z",
        "content": "<p>In the dust there lays some sense of what was past, what was forgotten and what was lost. My feet sink into the particles as I grab onto what are my calloused toes from too much running away from something. I dare not look back – dare not tempt the shadows that I conquered. Hair – loose and breaking I wonder if I&#39;ll ever see its full length. Several things are amiss. I miss several things. The feeling is severe, wretched and I hold my breath.</p>\n<p>Now would be a good time to wake up from this dream. I think I&#39;ve slept too long and my head hurts from too much wine. I need water. Where can we find things that seem to not want to be found? With limited space, how will I know what to bring on this journey? What lies are worth believing?</p>\n",
        "no": 15,
        "lastModified": "Mon Oct 17 2022"
    },
    {
        "title": "Sinking",
        "publishedOn": "2020-12-28",
        "author": "Laurence Ininda",
        "summary": "I sink Into patterns, A slow agony of todos and expectations, Demanding of me, wanting from me, What I do not seem to have, but questions of: What not to do, what to prioritize, When to sleep?",
        "slug": "sinking",
        "tags": ["life"],
        "type": "journal",
        "image": "https://raw.githubusercontent.com/laudebugs/blog-posts/main/assets/sinking.jpg",
        "date": "2020-12-28T00:00:00.000Z",
        "content": "<p>I sink Into patterns, A slow agony of todos and expectations, Demanding of me, wanting from me, What I do not seem to have, but questions of: What not to do, what to prioritize, When to sleep? What to want? What is necessary? Seem to blur into each other. How can I answer all these and take care of my mind, remember to eat, run, laugh and pray? But isn&#39;t this struggle the whole point of life – friend remarks. And so I dive, into the depths, finding myself often in places my senses are muted. Do I have the courage to fall is the all important question.</p>\n",
        "no": 14,
        "lastModified": "Mon Oct 17 2022"
    },
    {
        "title": "Thinking About The Color of My Skin",
        "publishedOn": "2020-11-18",
        "author": "Laurence Ininda",
        "summary": "The question I often asked was some flavor of “how do I tell stories that portray the diversity and complexity of our people?”",
        "slug": "thinking-about-the-color-of-my-skin",
        "tags": ["being african", "blackness", "skin"],
        "type": "journal",
        "image": "https://raw.githubusercontent.com/laudebugs/blog-posts/main/assets/thinking-about-the-color-of-my-skin.jpg",
        "date": "2020-11-18T00:00:00.000Z",
        "content": "<p>Coming from the East of Africa, I grew up without a perception that my skin came with a certain sense of existence different from others. Rather than my existence being centered around the color of my skin, the question I often asked was some flavor of “how do I tell stories that portray the diversity and complexity of our people?” To answer this question, I needed to look back in order to look ahead. Although colonization was motivated by the idea of one group of people being of lesser value viewed as lower than another, this concept of caste is not only remnant but has morphed into bitter and negative ethnicity among Kenyan tribes. The color of my skin, then, was just a happenstance even as it took much more meaning in college.</p>\n<p>In general, English places adjectives before the subject unlike Swahili or French (the later that I spoke since 14), . So, what ends up happening is that in describing a person, their skin color is pointed out before we know that subject is first and foremost a person. With an attempt then, to place the person before the color of their skin (a person who is black as opposed to a black person), I witnessed the slight dissociation of skin color from becoming the defining characteristic of a person. I can therefore be a human being before I am black, I can be a man before I am black, I can be a Kenyan before I am black. Since in Kenya there was no concept of being black, I began to try to understand Black America, through conversation, the media, and readings. Back home, there is a loose concept of blackness and so, as I asked myself the question of “how do I move through this space as a black person,” I found myself having to stop and think in a state of mind that did not occur naturally to me. To have to think about the tone of my voice, the cadence of my speech, how my feet bounced off the ground, how my hands and neck revealed my body language, whether, if in fact, I was a danger to anyone was exhausting. I think of how my female friends talked about how they work against the grain of a misogynist culture, how they have to be aware of their senses because you can never be too careful. How then could I weave my identity as a person of color while sustaining my Kenyan heritage, and could the two exist in concert?</p>\n<p>It was in the fall of 2016 that I became awakened to the color my skin having implications on how I moved through spaces. More and more, I began to see how the color of one&#39;s skin can be a reference point to the kinds of lives that could be extrapolated solely from what color that is. How black America was presented was very much a culture as well as the stories that are attached to its invention. To be black was also taking up and actualizing an identity from the color of my skin. Superficial blackness is for instance, cool, slick, having that delicate bounce and smooth swagger. The deeper work was internal – from understanding my relationship with my skin – learning how to take care of it in the cold and dry winters and reaffirming its affinity to the warm tropical weather. I was growing out my hair since the end of high school and taking delight in how it looked up with its coarse texture. And this process intrigued me, along with the idea of becoming black. An African such as I could empathize with the African American history of being enslaved and discriminated against, judged, lynched because of the color of one&#39;s skin. But in as much as this dark history seemed to take center stage in discussions and conversations about racism against African Americans, there were stories of tremendous triumph, stories of black enterprise and far-reaching cultural movements in music, art and literature among others. Whether I could juggle these two aspects as well as discover other manifestations of the black experience remains an unresolved journey. Three realities emerged. There were environments where I became fully conscious of the color of my skin, there were also spaces where I could forget the color of my skin mattered and there were situations where the consciousness and lack thereof existed in a kind of tug of war.</p>\n<p>There is a kind of inward gaze about black America to which I observed: that the story of the black America is often centered on his experience and how that experience shapes his worldview. For me, a Kenyan who looked outward into the world, and from the outward gaze into America, the process of looking inside led me, first, to take a closer look at how I was raised and how that upbringing did, if in any way, shape my black experience; and secondly, to begin to pay attention to how I navigate different spaces and social situations and how this navigation is informed by (a) my being a man and (b) having black skin. Very quickly after I arrived in New York that Fall of 2016, I became more aware of how, as a black man, could walk the streets of New York at odd hours of the night and carry little fear – unlike some of my fellow female friends who kept mentioning the amount of caution that they exercised in the city at night. With the #MeToo movement, various celebrities, and public figures, primarily men, began facing the consequences of taking advantage of their power and influence to assault and/or take advantage of women. This calling out of men couple with conversations with others, as well as reading, began to open my eyes to the power dynamics that exist when I interact with women and how much work there still remains to be done, especially back home, for men to understand how it is also up to them, not only women, to examine the ways they are brought up to view women. While growing up there was a lack of direct conversation surrounding what it means to be a man, I took mental notes from my father who was a preacher/minister and an academic, in that order. Looking then, into my blackness, I defaulted towards my faith and my upbringing – neither of which seemed to provide adequate fodder for my nascent conceptualizations of Black America. Black America needed me, a man with black skin, to keep engaging with its gripping past to bring myself to an understanding of its present form in daily life.</p>\n<p>Toni Morrison, in her book, The Origin of Others talks about how easy it is to estrange others. I think about this idea of Othering, how many times I have made it possible for someone to feel different, how deliberate as well as easy this act can be – to not listen deeply, to make lazy assumptions, to not want to know someone&#39;s experience, to put value to one person over another. I think again of how simple the process of seeing the world with my eyes alone. “Why should we want to close the distance when we can close the gate?” – Morrison asks. Yet, to the many who have stretched themselves to me, it has been a selfless gift as well as a humanizing and healing process. How much more, then, am I to give an ear, to take a pause, be open to another point of view, step into the discomfort and know another?</p>\n<p>Credit to one dear friend who helped me edit this piece.</p>\n",
        "no": 13,
        "lastModified": "Mon Oct 17 2022"
    },
    {
        "title": "A Meditation on 24",
        "publishedOn": "2020-10-17",
        "author": "Laurence Ininda",
        "summary": "Twenty-four 1. is slow, is fast, is blurry and gets lost often, in its becoming. 2. It has no ring to it, no newness, no uniqueness. 3. Everything is mundane with rabid desires and ugly hair in odd places. 4. Memory remains of the past and the future is yet one day at a time.",
        "slug": "a-meditation-on-24",
        "tags": ["24", "life"],
        "type": "journal",
        "image": "https://raw.githubusercontent.com/laudebugs/blog-posts/main/assets/a-meditation-on-24.jpg",
        "date": "2020-10-17T00:00:00.000Z",
        "content": "<p>Twenty-four</p>\n<ol>\n<li><p>is slow, is fast, is blurry and gets lost often, in its becoming.</p>\n</li>\n<li><p>It has no ring to it, no newness, no uniqueness.</p>\n</li>\n<li><p>Everything is mundane with rabid desires and ugly hair in odd places.</p>\n</li>\n<li><p>Memory remains of the past and the future is yet one day at a time.</p>\n</li>\n<li><p>One day at a time. How much further can I look but one day at a time.</p>\n</li>\n<li><p>For I cannot escape the loop unless I can see it.</p>\n</li>\n<li><p>Where can I find questions?</p>\n</li>\n<li><p>How do I begin to question myself and not risk falling into myself?</p>\n</li>\n<li><p>Deep cuts hurt less yet much more than ever.</p>\n</li>\n<li><p>Can I find time to pause?</p>\n</li>\n<li><p>My black skin seems even darker when I look at it.</p>\n</li>\n<li><p>Sometimes I think it&#39;s easier to forget.</p>\n</li>\n<li><p>At times I figure it is much simpler to get out of my head.</p>\n</li>\n<li><p>There are certain selves that seem so elusive.</p>\n</li>\n<li><p>Can we fix those parts that are worn out?</p>\n</li>\n<li><p>Who I am and who I think I am are two worlds apart.</p>\n</li>\n<li><p>But I walk that thin line between hope and fear,</p>\n</li>\n<li><p>In 100 years perhaps I will have mastered the art of high-wire artistry,</p>\n</li>\n<li><p>No longer needing these doubts that seem to fuel my demise.</p>\n</li>\n<li><p>Going back one step back to take two steps forward.</p>\n</li>\n<li><p>Yellow birds across the sky – turn to grey dust and fade away.</p>\n</li>\n<li><p>Just a single amen can save a soul.</p>\n</li>\n<li><p>Under which pressures will I bow?</p>\n</li>\n<li><p>XOXO</p>\n</li>\n</ol>\n",
        "no": 12,
        "lastModified": "Mon Oct 17 2022"
    },
    {
        "title": "September",
        "publishedOn": "2020-09-07",
        "author": "Laurence Ininda",
        "summary": "I'm in September. And it almost feels like a transition with an end of the longest summer in my mind. The days are now here and there marked by rain, the shrinking daylight, and later the deadening of leaves. This September my mother turns sixty.",
        "slug": "september",
        "tags": ["lige"],
        "type": "journal",
        "image": "https://raw.githubusercontent.com/laudebugs/blog-posts/main/assets/september.jpg",
        "date": "2020-09-07T00:00:00.000Z",
        "content": "<p>&#39;m in September. And it almost feels like a transition with an end of the longest summer in my mind. The days are now here and there marked by rain, the shrinking daylight, and later the deadening of leaves. This September my mother turns sixty. The more I remember that, the more I try to remember when she turned 50 or 45 and the kinds of things that happened in between those years and think that I would want to white out some parts and keep others. But again, it&#39;s September and how can I not let this month pass by yet is stands between me and the rest of the year; between me and thinking of the uncertainty what&#39;s to come. But even more so than ever, each day that is not closely watched can turn into a week and month passing by and forgotten and so I want to note that I am here now, in September, watching the birds make their enclaves outside my window the heat claiming more of the morning and the people stepping into their forays. Oh, but how can I grab on to this month and not let it slip?</p>\n<p>I begin a schedule – early mornings and perhaps I won&#39;t spend too much time thinking about regressing into lax streaks. I&#39;m trying to bring our conversations down to earth with a friend because they risk being over there and not in the moment and wonder how to do this without being too introspective. I am reading, and writing, listening, learning to get across what I mean to say. Tomorrow I will run. Though there&#39;s still today that just only began. Only just reared its head and let&#39;s deal with this day first.</p>\n",
        "no": 11,
        "lastModified": "Mon Oct 17 2022"
    },
    {
        "title": "Chicken Soup",
        "publishedOn": "2020-08-24",
        "author": "Laurence Ininda",
        "summary": "Ibegin to meet with my mother on call each week in the Summer during the pandemic and we decide to talk about anything and everything. As we speak, my intention is to learn more about her and that, eventually, she can learn more about me.",
        "slug": "chicken-soup",
        "tags": ["family", "life"],
        "type": "journal",
        "image": "https://raw.githubusercontent.com/laudebugs/blog-posts/main/assets/chicken-soup.jpg",
        "date": "2020-08-24T00:00:00.000Z",
        "content": "<p>I begin to meet with my mother on call each week in the Summer during the pandemic and we decide to talk about anything and everything. As we speak, my intention is to learn more about her and that, eventually, she can learn more about me. She shares stories of how she met my father and studied in America. She tells me of her joyous and happy moments as well as her struggles and mistakes. All the while I am thinking back to my own version of events of the past few years and the parallels I could draw and realize how much more than a mother she is. What these conversations do for me is help me expand my view of my mom to more than just that one-dimensional aspect of being mother. I learn a little more about what she loved doing, her motivations and perspectives.</p>\n<p>The stories she tells draw out time in a way by bringing the choices of others to influence my existence at this moment in time stretching as well as into the lives of many of those after me. That life is uneasy, rarely takes the form of a straight line is a recurrent theme in our conversations. Without being explicit, she hints that I will have to brave the unknowable future – with faith – evident in how she herself took on challenges with grace.</p>\n<p>With the lot of advice given to me before I left for America – some in passing and most alluded within the jokes, goodbyes and prayers, my mother then and even now in our talks tells me that I am the best. Although she has and always had the best intentions in mind, I begin to wonder how this kind of affirmation translates to knowing how to brave the tough times when things are out of control or when I fail. How will I find the courage to come to speak to her during the difficult moments when she projects a version of me that falls seems flawless? Each time after these conversations that I have had with my mother, I think it is necessary that I do hear the stories of her ambitions, joys as well as the trials in her life as the listening saves me from thinking that my own shortcomings are too big to overcome, that I should as well celebrate each small victory in my life</p>\n",
        "no": 10,
        "lastModified": "Sun Dec 05 2021"
    },
    {
        "title": "Passive Observations",
        "publishedOn": "2020-08-22",
        "author": "Laurence Ininda",
        "summary": "It is imperative for you look beyond my words for truth. Be wary of simplifications and too much complexity. Even more, centrist conclusions for how we wrestle with an idea is particularly suspicious and may be flavored sometimes with anger, other times with pain and at times with hope just to make them that more palatable. ",
        "slug": "passive-observations",
        "tags": ["on writing"],
        "type": "journal",
        "image": "https://raw.githubusercontent.com/laudebugs/blog-posts/main/assets/passive-observations.jpg",
        "date": "2020-08-22T00:00:00.000Z",
        "content": "<p>It is imperative for you look beyond my words for truth. Be wary of simplifications and too much complexity. Even more, centrist conclusions for how we wrestle with an idea is particularly suspicious and may be flavored sometimes with anger, other times with pain and at times with hope just to make them that more palatable. Probe each argument, metaphor and choice of words. The questions are almost always more important than what answers they solicit – how each is framed, the assumptions each makes, who it includes and leaves out, what follows next. Think ahead and try to guess where I am taking you and if I take you somewhere else, I will have had something to offer. If the words remain in your mind, the writing was an intellectual process; if they move you, I will have done my part. I will be biased and shortsighted, eccentric and cunning. Therefore, I am asking you to do some hard but necessary work when reading me and every day in what you see, read and share – the kind of deep personal work that remains of each of us.</p>\n",
        "no": 9,
        "lastModified": "Sun Dec 05 2021"
    },
    {
        "title": "Arrays of Hope Held Loose",
        "publishedOn": "2020-08-08",
        "author": "Laurence Ininda",
        "summary": "There is a lot that's going on. A lot of disarray within our composed lives that ask us to retract from what we know about ourselves and others and our worlds. Different forms of us emerge, perhaps for revealing what frames need testing, understanding.",
        "slug": "arrays-of-hope-held-loose",
        "tags": ["life"],
        "type": "journal",
        "image": "https://raw.githubusercontent.com/laudebugs/blog-posts/main/assets/arrays-of-hope-held-loose.jpg",
        "date": "2020-08-08T00:00:00.000Z",
        "content": "<p>There is a lot that&#39;s going on. A lot of disarray within our composed lives that ask us to retract from what we know about ourselves and others and our worlds. Different forms of us emerge, perhaps for revealing what frames need testing, understanding.</p>\n<p>Funneling this energy, emotion and body into meaning is a task that&#39;s ridiculously slippery. And I for one, in fits and starts, only begin to scratch the surface – confronting the truths, the histories, the stories that I weave.</p>\n<p>And holding on to these hopes I have with not the whys that inform them, how they form, what makes them persist is letting them stick loose enough to be move, shift, evolve while I look away.</p>\n<p>It&#39;s the kind of thirst that only God can fill – fully – completely – dwelling in him. The next months will be dedicated to this exposition of the attitudes, hopes and joys, pain and brokenness that describe lives of pursuits.</p>\n",
        "no": 8,
        "lastModified": "Mon Oct 17 2022"
    },
    {
        "title": "Looking Into The Gaps",
        "publishedOn": "2020-07-10",
        "author": "Laurence Ininda",
        "summary": "As a means of expression, I see writing to be a medium to clarify my thoughts, to work through experiences and to conceptualize meaning and make sense.",
        "slug": "looking-into-the-gaps",
        "tags": [""],
        "type": "journal",
        "image": "https://raw.githubusercontent.com/laudebugs/blog-posts/main/assets/looking-into-the-gaps.jpeg",
        "date": "2020-07-10T00:00:00.000Z",
        "content": "<p>As a means of expression, I see writing to be a medium to clarify my thoughts, to work through experiences and to conceptualize meaning and make sense. When I wrapped myself around my sheets at the happiest times, or when I hugged my body during the darkest of moments and even when there was nothing else to do but stare into thin air to try and eke out a sense of the world around me, I took down notes. Whether that is the most characteristic of me, some will say yes.</p>\n<p>Ask me what I think is the most pressing issue for me, and I pause, then stutter between, one: the upside and downsides of my “born-tao” (brought up in the city) childhood growing up in an ethnically diverse community and two: bridging the gaps in technology, education and empowerment for women, men and the poor in the society. Where all this becomes possible is through understanding what it takes to build an idea from concept to product and to then leverage the designs that are not only elegant but also consider other points of view.</p>\n<p>The simplest way I can describe the intersection between having an inclination to write poetry and code is that each is a an attempt to bridge the gap between the inconsistencies that presents themselves in the world that we exist in today. By acknowledging the brokenness in systems, recognizing how fragmented and diverse human desire is – then I find the courage to begin to look into the gaps, plough through my own apathy and cynicism.</p>\n<p>Lingering on this very question – of where the intersection lies between poetic eye and debugging code is a slope undefined for several reasons. One is tempted, as I have, to draw clear distinctions of where the former ends and the latter begins – a line so faint that when staring into it too much, it can feel crystal one day and maddeningly blurred the very next. Both are ways to escape into imagination. Yet neither can deliver what they promise fully and most of the time it ends up unfinished business and so, they both are a good lesson in learning when and how to look away. And so some days – most in actual sense – it feels as though my left and right eye are seeing two different renderings of reality, and I fear they may never reconcile fully.</p>\n<p>&quot;Everyday each of us invents the world and the self who meets that world, opens up or closes down space for others within that.&quot; - Rebecca Solnit</p>\n",
        "no": 7,
        "lastModified": "Mon Oct 17 2022"
    },
    {
        "title": "Demands",
        "publishedOn": "2020-07-08",
        "author": "Laurence Ininda",
        "summary": "I miss the appointment. They send a note. In looking over our records, it was noted that you have not returned to this chest center for re-examination. There are calls from mama. She wants to know how I'm doing.",
        "slug": "demands",
        "tags": ["poems"],
        "type": "journal",
        "image": "https://raw.githubusercontent.com/laudebugs/blog-posts/main/assets/demands.jpg",
        "date": "2020-07-08T00:00:00.000Z",
        "content": "<p>I miss the appointment. They send a note.</p>\n<p>In looking over our records, it was noted that</p>\n<p>you have not returned to this chest center for re-examination</p>\n<p>There are calls from mama. She wants to know how I&#39;m doing.</p>\n<p>A new appointment has been scheduled for you.</p>\n<p>If it is not possible to keep this appointment,</p>\n<p>please call us immediately.</p>\n<p>They&#39;re testing me for all these things that I never knew existed.</p>\n<p>Mama says to call her!</p>\n<p>There are drugs for everything.</p>\n<p>Rifampin treats TB and other types of infections</p>\n<p>I&#39;m experiencing other types of feelings.</p>\n<p>Could you treat ME - I want to ask.</p>\n<p>Do not use more than directed</p>\n<p>It is important to take rifampin on a regular schedule</p>\n<p>It is important to have a regular schedule.</p>\n<p>I think about home cooked food.</p>\n<p>Possible side effects while using this medication:</p>\n<p>Itching or hives, Swelling in your face or hands,</p>\n<p>I&#39;m adding weight.</p>\n<p>Swelling or tingling in your mouth or throat, Chest tightness, trouble breathing</p>\n<p>I have trouble breathing.</p>\n<p>Blistering, peeling or red skin rash</p>\n<p>I skipped the shower while I slept in for days.</p>\n<p>Bloody or very dark urine</p>\n<p>Blurred vision or eye pain</p>\n<p>I need glasses to see what the teacher is writing.</p>\n<p>Decrease in how much or how often you urinate</p>\n<p>I go to the toilet every five minutes</p>\n<p>Diarrhea that may contain blood</p>\n<p>Fever, chills, cough, sore throat, and body aches</p>\n<p>Sleep is what I need.</p>\n<p>Nausea, vomiting, loss of appetite, or pain in your upper stomach</p>\n<p>Numbness, pain, or tingling in your arms or legs.</p>\n<p>Shortness of breath or troubled breathing</p>\n<p>Unsteadiness or weakness</p>\n<p>I need to go home.</p>\n<p>Unusual bleeding bruising or weakness</p>\n<p>Yellowing of your skin or the whites of your eyes</p>\n<p>The sun is too bright.</p>\n<p>Call your doctor right away if you notice any of these side effects</p>\n",
        "no": 6,
        "lastModified": "Mon Oct 17 2022"
    },
    {
        "title": "Kenya Web Project",
        "publishedOn": "2020-06-05",
        "author": "Laurence Ininda",
        "slug": "kenya-web-project",
        "tags": ["lighthouse", "node.js", "python"],
        "type": "dev",
        "image": "https://raw.githubusercontent.com/laudebugs/blog-posts/main/assets/kenya-web-project.jpeg",
        "summary": "Examining performance and data download sizes of Kenya's top 500 websites. Expecially in emerging markets, website developers need to build small and efficient web applications.",
        "imageCredit": "Photo by <a href=\"https://unsplash.com/@joecalih?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText\">Joecalih</a> on <a href=\"https://unsplash.com/s/photos/nairobi?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText\">Unsplash</a>",
        "date": "2020-06-05T00:00:00.000Z",
        "content": "<h2 id=\"foreground\">Foreground</h2>\n<p>The internet is a vast “land” with plenty of room to create, share and find content. Internet usage in Kenya is increasing by the year. COVID-19 brought to the forefront, the importance of having an online presence. Companies like Amazon, that were internet-first, widened their market share of internet sales and became more relevant. Those companies that didn&#39;t have an online presence realized that they needed to adapt quickly to the times. Even people realized that they needed to build an online presence to showcase their work or seek jobs.</p>\n<p>In developing countries like Kenya, with companies shifting online, there is a growing need to track these trends. However, data is still expensive for the average Kenyan even though data consumption in the country has been increasing by the year. Therefor, in as much as companies are moving online, they need to take into consideration this very fact that accessing websites should not require a large amount of data – say more than 2MB (to be revised later). And web developers need to be creative in ways that they can reduce data consumption on subsequent website visits to the sites they build. For instance, through caching or giving users a low-data version of their site once they land on the page before loading any subsequent content.</p>\n<h2 id=\"conceptualization\">Conceptualization</h2>\n<p>Through this project, I would like to accomplish two things:</p>\n<ul>\n<li>Create a directory of Kenyan websites - websites with extensions “.co.ke” or “.ke” or that include “kenya” within the domain name.</li>\n<li>Of the collected sites, note how much data is downloaded on the landing page of the site and organize this data into a repository.</li>\n</ul>\n<h2 id=\"data-collection-and-preparation\">Data Collection and Preparation</h2>\n<p>How many websites can I find by randomly searching common words and the big companies in Kenya?</p>\n<p>After considering this, I searched the internet to try to find a difinitive list of websites in Kenya. To find this list, I would have to contact organizations like The Kenya Network Information Centre (KENIC) to obtain this information. And although this seemed like the route to go, I also found a list of the top 500 websites in Kenya provided by Alexa and figured that this list would be more useful to use as a baseline of websites in Kenya. And as the list showed, there&#39;s a large number of domains that do not end with .co.ke or .ke that Kenyans use. After signing up for the free trial, I parsed the data to this json file using a simple java script.</p>\n<p>Considering all the information that lighthouse provided, two metrics seemed important: the performance of the site as well as the amount of data downloaded when a user accesses the website., i.e. Total size.\nTwo metrics: Performance and total size downloaded on page load\nThe size will vary from device to device since mobile devices might have cached the websites before or CDN&#39;s might be used to deliver a faster and smaller payload.</p>\n<h3 id=\"why-lighthouse\">Why lighthouse?</h3>\n<p>Google provides Lighthouse as a developer tool to generate a report on a website. The tool is also available as a commandline interface tool. However, I wanted to use the tool as part of a node.js project. Therefore, I stumbled on this project by Sahava on github from which I borrowed heavily and modified to my own use.\nGenerating the Reports</p>\n<p>Since my computer crawled at even the thought of running lighthouse on 500 websites, I decided to run the runLightHouse.js script on AWS.\nHere are the steps for creating an AWS instance:\nAfter Creating an Amazon AWS account,\nCreate an EC2 instance. You can proceed with launching an instance that contains the free tier.</p>\n<pre><code>Launch instance &gt; Ubuntu 20.04 (with Free tier eligible) &gt; General Purpose Instance Type &gt; Choose an Existing Key-pair for ssh into your instance or download a new instance &gt;Launch instance\n</code></pre>\n<p>I however created an instance type with a GPU (just for fun) and to perform lighthouse processes fast. (this cost a couple of cents/hr)\nSSH into your instance:</p>\n<pre><code class=\"language-bash\"># move your .pem file into the come folder\n# Assuming you downloaded the .pem file to the downloads folder:\n# cd into the root directory\ncd\n# check whether a .ssh folder exists\nls -al\n# if it doesn&#39;t, create the folder\nmkdir .ssh\n#move the .pem file into the .ssh folder. Here assume I call my .pem file myKeyPair\nmv [path where the .pem file exists]/myKeyPair.pem myKeyPair.pem\n# change the permissions of the .pem file\nchmod 400 .ssh/myKeyPair.pem\n</code></pre>\n<p>Copy your Public DNS (IPv4) from your AWS instance - this is usually located at your instances page when you click on your instance</p>\n<p>SSH into your instance</p>\n<pre><code class=\"language-bash\"># replace [my public ip with the actual ip]\nssh -i ~/.ssh/myKeyPair.pem ubuntu@[Public DNS (IPv4)]\n# you may be asked whether to type yes or no to proceed. Type yes to proceed\n\n# Prepare the server to run your script\ninstall git\nsudo apt install git -y\n# Install latest version of npm\ncurl -sL https://deb.nodesource.com/setup_10.x | sudo -E bash\nsudo apt-get install -y nodejs\n# Install Chrome. I referenced this article\n\n# Download Google chrome\nwget https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb\n# install google chrome\nsudo apt install ./google-chrome-stable_current_amd64.deb\n</code></pre>\n<h3 id=\"running-the-script\">Running the script</h3>\n<pre><code class=\"language-bash\"># Clone the repo\ngit clone https://github.com/laudebugs/kenya-web-project.git\n\n# enter project folder\ncd kenya-web-project\n\n# Install packages\nnpm install\n\n# Run the script\nnode generateReports.js\n# Exit the AWS instance\n</code></pre>\n<h2 id=\"update\">Update</h2>\n<p>I tried running the script on an amazon linux server but there was always an error generated, so I switched to using an ubuntu 20.04 instance.\nBelow are the instructions fro setting up and to ssh into an Amazon linux ec2 instance:\nAfter Creating an Amazon AWS account,\nCreate an EC2 instance. You can proceed with launching an instance that contains the free tier.</p>\n<pre><code class=\"language-text\">Launch instance &gt; Amazon Linux (with Free tier eligible) &gt; General Purpose Instance Type &gt; Choose an Existing Key-pair for ssh into your instance or download a new instance &gt;Launch instance\n</code></pre>\n<p>I however created an instance type with a GPU (just for fun) and to perform lighthouse processes fast. (this cost a couple of cents/hr)\nSSH into your instance:</p>\n<pre><code class=\"language-bash\"># move your .pem file into the come folder\n# Assuming you downloaded the .pem file to the downloads folder:\n# cd into the root directory\ncd [root directory]\n\n# check whether a .ssh folder exists\nls -al\n\n# if it doesn&#39;t, create the folder\nmkdir .ssh\n#move the .pem file into the .ssh folder. Here assume I call my .pem file myKeyPair\nmv [path where the .pem file exists]/myKeyPair.pem myKeyPair.pem\n\nChange the permissions of the .pem file\n```bash\nchmod 400 .ssh/myKeyPair.pem\n</code></pre>\n<p>Copy your Public DNS (IPv4) from your AWS instance - this is usually located at your instances page when you click on your instance</p>\n<pre><code>SSH into your instance\n```bash\n# replace [my public ip with the actual ip]\nssh -i ~/.ssh/myKeyPair.pem ec2-user@[Public DNS (IPv4)]\n</code></pre>\n<p>You may be asked whether to type yes or no to proceed. Type yes to proceed</p>\n<pre><code class=\"language-bash\"># Prepare the server to run your script\n# install git\nsudo yum install git -y\n</code></pre>\n<p>install npm using Amazon&#39;s instructions</p>\n<pre><code class=\"language-bash\"># Install latest version of npm\nnpm install -g npm@latest\n# Install Chrome. I referenced this article\ncurl https://intoli.com/install-google-chrome.sh | bash\n</code></pre>\n<h4 id=\"running-the-script-1\">Running the script</h4>\n<pre><code class=\"language-bash\">#Clone the repo\ngit clone https://github.com/laudebugs/kenya-web-project.git\n\n# enter project folder\n```bash\ncd kenya-web-project\n# Install packages\nnpm install\n# Exit the AWS instance\nexit\n</code></pre>\n<h2 id=\"analysis\">Analysis</h2>\n<p>Having obtained two additional metrics of each website, i.e. the performance and size of page downloaded, then we can plot several graphs to gauge how one metric affects the other.</p>\n<p>In order to answer questions that the data presented, there still remained missing pieces of information that would enable me to analyze the data accurately. With metrics such as performance, size of webpage downloaded and average time spent on a website, we could take a look at the general trend of the top websites in Kenya as shown below.</p>\n<p>&lt;img\n    alt=&quot;Size of the web page downloaded&quot;\n    src={\n        &#39;<a href=\"https://raw.githubusercontent.com/laudebugs/kenya-web-project/master/analysis/graphs/Size%20of%20the%20web%20page%20downloaded.png&#39;\">https://raw.githubusercontent.com/laudebugs/kenya-web-project/master/analysis/graphs/Size%20of%20the%20web%20page%20downloaded.png&#39;</a>\n    }\n    width={&#39;100%&#39;}\n/&gt;</p>\n<p>The optimal size of a web page is 0 - 1 MB downloaded once a use logs onto a site. This is of course, not taking into account cached resources that might reduce the size of the page downloaded.</p>\n<p>&lt;img\n    alt=&quot;TimeSpentOnWebsite&quot;\n    src={&#39;<a href=\"https://raw.githubusercontent.com/laudebugs/kenya-web-project/master/analysis/graphs/TimeSpentOnWebsite.png&#39;%7D\">https://raw.githubusercontent.com/laudebugs/kenya-web-project/master/analysis/graphs/TimeSpentOnWebsite.png&#39;}</a>\n    width={&#39;100%&#39;}\n/&gt;</p>\n<p>The modal time spent on a website by Kenyans is 3 minutes with the average coming to 7.2682 minutes.</p>\n<h2 id=\"postscript\">Postscript</h2>\n<p>In analyzing the dataset, there&#39;s a temptation to draw immediate conclusions from the various datapoints such as comparing the time spent and how this changes based on the size of the web page downloaded when a user accesses the website. However, this analysis doesn&#39;t take into account the fact that different websites serve different functions. For instance, a person logging into the Kenya Revenue Authority website would perhaps use the site for a specific predetermined use case while a person using YouTube might not have a goal in mind while using the site. And therefore one would need to make assumptions to immediately draw conclusions from the data. On modelling the graph, the size of the page downloaded doesn&#39;t relate to how much time is spent on the site.\nFurther information is needed to ask deeper questions from the dataset. One such piece is the genre of the website which would be able to draw distinctions between the different websites and make comparisons within websites of a certain type.\nAs of now, the dataset is freely available to use and for more research to be done. Especially at a time when the internet is crucial to keep systems moving during Covid-19, we need to examine more closely how Kenyans use the internet.\nHiccups along the way\nIn generating the lighthouse reports for the site, I decided to splice the list of websites into groups of 30 websites at a time - because even AWS servers weren&#39;t running all the reports smoothly. At other times, I ran 50 reports at a time. However, while doing this, I realised I skipped over close to 70 websites spread over my input set of 500. And so, I wrote a small python script to find the missing sites.\nI had to manually run the website Bet365.com using the lighthouse cli because the node script kept timing out</p>\n<h3 id=\"after-installing-lighthouse\">After installing lighthouse</h3>\n<p><code>npm install -g lighthouse</code></p>\n<pre><code class=\"language-bash\">lighthouse https://www.bet365.com/ --quiet --output json --output-path ./www_Bet365_com.json\n</code></pre>\n<h3 id=\"references\">References</h3>\n<ul>\n<li><a href=\"https://github.com/sahava/multisite-lighthouse\">Multisite Lighthouse</a></li>\n<li><a href=\"https://www.alexa.com/topsites/countries/KE\">Top Sites in Kenya</a></li>\n<li>Google Chrome Lighthouse <a href=\"https://github.com/GoogleChrome/lighthouse\">Github Repository</a></li>\n</ul>\n<p>-&gt; Checkout the <a href=\"https://github.com/laudebugs/kenya-web-project\">Github Repository</a></p>\n",
        "no": 5,
        "lastModified": "Mon Oct 17 2022"
    },
    {
        "title": "Smirks",
        "publishedOn": "2020-04-21",
        "author": "Laurence Ininda",
        "summary": "I am stuck thus Gone are the spaces where I lie. Where does truth become a lie Becoming has a sly tune to it maybe because I realize I needed to be naive in the first place.",
        "slug": "smirks",
        "tags": ["translated thoughts"],
        "type": "journal",
        "image": "https://raw.githubusercontent.com/laudebugs/blog-posts/main/assets/smirks.jpg",
        "date": "2020-04-21T00:00:00.000Z",
        "content": "<p>I am stuck thus Gone are the spaces where I lie. Where does truth become a lie Becoming has a sly tune to it maybe because I realize I needed to be naive in the first place and what happens is When no-one but me can see I find it harder and harder to speak, to tell, to describe, to know The places I go become the spaces I grow Out of myself and into myself – pushing past forms of me, letting new ones take root, but the old – that part that remains, in memory, in the scars, in the diary entries, the Layers and bones of the past forms don&#39;t simply sit still. They Hobble and steal fragrances that I spared bringing them back like it was yesterday</p>\n<p>how easy Essences weave into skin, from memory, into the present,</p>\n<p>Forming shapes and escapes into The wind that blows away memories and hopes I attempt to replace.</p>\n<p>i Best be prepped for death in the many ways it comes. The Angel is holding her breath, letting her teeth sink into her lips, Awaiting a slip of a step, expectations can change the outcome, and even those I hide, find their way out, hungrier, fiercer to achieve their aim, If … when I failed to pay attention, [the lot of] demons bid for [my] skin. Can I Allow [my]self one fine glance to salvation&#39;s hope in prayers I already lost many days ago, or will I give someone the final dance, before I allow my soul to sink into rubble. Steep slopes emerge and so does any grip of fading lines that were once thick and clear. to get to where my gods really want, I let thin ropes merge my desire and transgression Empty hopes diverge and there&#39;s not just one path, but many that lead nowhere. I paste my disfigured portrait Onto faces and the like and all I get in return is a letting go of grains of myself that fall between the cracks. for this person I become, Family&#39;s never been too close yet too far gone. Voices bring more silence as they scream on the inside. not. out. On the walls are pictures, previous versions of the us stuck in time, events to commit to memory, But down and under brews peace, love and disunity.</p>\n",
        "no": 4,
        "lastModified": "Mon Oct 17 2022"
    },
    {
        "title": "Certain Hopes",
        "publishedOn": "2020-02-25",
        "author": "Laurence Ininda",
        "summary": "Fragility is embedded in the hope of a better next time, Dust begins to settle in such a present, a comfortable promise",
        "slug": "certain-hopes",
        "tags": ["faith", "future"],
        "type": "journal",
        "image": "https://raw.githubusercontent.com/laudebugs/blog-posts/main/assets/certain-hopes.jpg",
        "date": "2020-02-25T00:00:00.000Z",
        "content": "<p>Fragility is embedded in the hope of a better next time,</p>\n<p>Dust begins to settle in such a present,</p>\n<p>a comfortable promise,</p>\n<p>each day layering up with more fantasies,</p>\n<p>a future that is always coming.</p>\n<p>sunrises eating into time.</p>\n<p>Faith prompts acting on the future of a present to come.</p>\n",
        "no": 3,
        "lastModified": "Sun Dec 05 2021"
    },
    {
        "title": "Well Intended Forays Into Homecomings",
        "publishedOn": "2020-02-16",
        "author": "Laurence Ininda",
        "summary": "I know – for a fact! from whence I be. The earth sentenced me to foraging the dust until I've bored deep into the skin...",
        "slug": "well-intended-forays-into-homecomings",
        "tags": ["doubt", "life"],
        "type": "journal",
        "image": "https://raw.githubusercontent.com/laudebugs/blog-posts/main/assets/well-intended-forays-into-homecomings.jpg",
        "date": "2020-02-16T00:00:00.000Z",
        "content": "<p>I know – for a fact! from whence I be.</p>\n<p>The earth sentenced me to foraging the dust until I&#39;ve bored deep into the skin;</p>\n<p>Playing the part of becoming something else.</p>\n<p>Compromise is easy.</p>\n<p>For the moments now barrage what could be.</p>\n<p>To go back may be the only way to move forward.</p>\n<p>Baba, I will bring you that which I promised:</p>\n<p>A heart full of unfulfilled desires.</p>\n<p>What you told me though,</p>\n<p>I seem to let go the more I think of staying.</p>\n<p>I don&#39;t own the tissues wrapping my shell together.</p>\n<p>Should I let alternate ideas get birthed in me,</p>\n<p>I know not where they lead.</p>\n",
        "no": 2,
        "lastModified": "Mon Oct 17 2022"
    },
    {
        "title": "Who No Hears",
        "publishedOn": "2020-02-15",
        "author": "Laurence Ininda",
        "summary": "At times, many times, the urge to fulfill others – to fill myself up with the noise and voices, to take all of the outside in and gobble it down with a shot of anxiety – is everywhere I turn my face. It is to me, one of the most compelling feelings yet the reality of what I face each time.",
        "slug": "who-no-hears",
        "tags": ["life"],
        "type": "journal",
        "image": "https://raw.githubusercontent.com/laudebugs/blog-posts/main/assets/who-no-hears.jpg",
        "date": "2020-02-15T00:00:00.000Z",
        "content": "<p>At times, many times, the urge to fulfill others – to fill myself up with the noise and voices, to take all of the outside in and gobble it down with a shot of anxiety – is everywhere I turn my face. It is to me, one of the most compelling feelings yet the reality of what I face each time. How I circulate the differing fluid feels that emanate from the extremities to the heart is a path clouded. There are ways I have dissociated the body from the mind, from the spirit, from the emotions, from the earth – in ways that make me wake up each morning and try to collect these parts of me. If I&#39;d like, I put on some way that I&#39;d like to look, place in my bag notes that I never read but that remind me I used to once collected, place aside my Kenyanness because it won&#39;t be needed, decide I want to smell a little nicer and watch myself walk to take the school bus. I never felt so divided up yet fitted all into one. I feel that I need to feel the earth below my feet but there&#39;s so much I don&#39;t know about the earth that I am walking on. If you look close enough at the eyes – they give it all away.</p>\n<p>I chase memory.</p>\n<p>No longer do I record moments because they, in part, I tend to plan to go out, plan to eat, plan to dance, and recording thrusts me into trying to control the past in the present. Give me time, this is where I am. I will learn again to forget.</p>\n<p>Being in temporary disarray happens more often than I would like. And when I consider context, I reason to blame dislocation from memory. My past roots became upset and tried to adjust to new ground. Deep they sank into the self, only to unearth fears and dreams I have to consider giving up for a future that wants to etch itself onto me. I gaze, and my mouth wriggles into the shape shame if I bend to it.</p>\n<p>For the best. They reckon.</p>\n<p>Everyone out there – beating out their chests and wrapping warmly their seductive selves. So hangs the overcast skies. Bidding for the rain to plunder the earth with tears that ache.</p>\n<p>I look up so the sky will replace my dried up ducts.</p>\n",
        "no": 1,
        "lastModified": "Mon Oct 17 2022"
    }
]
